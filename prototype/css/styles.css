/* IBM Carbon Design System - Custom Styles for Customer Status Tracker */

/* Carbon Design Tokens */
:root {
  /* Colors - Carbon Gray Scale */
  --cds-background: #f4f4f4;
  --cds-background-hover: #e8e8e8;
  --cds-background-active: #c6c6c6;
  --cds-background-selected: #e0e0e0;
  --cds-layer-01: #ffffff;
  --cds-layer-02: #f4f4f4;
  --cds-layer-hover-01: #e8e8e8;
  --cds-border-subtle-01: #e0e0e0;
  --cds-border-strong-01: #8d8d8d;

  /* Text Colors */
  --cds-text-primary: #161616;
  --cds-text-secondary: #525252;
  --cds-text-placeholder: #a8a8a8;
  --cds-text-on-color: #ffffff;
  --cds-text-helper: #6f6f6f;

  /* Interactive Colors */
  --cds-interactive: #0f62fe;
  --cds-interactive-hover: #0353e9;
  --cds-interactive-active: #002d9c;
  --cds-link-primary: #0f62fe;
  --cds-link-visited: #8a3ffc;

  /* Support Colors */
  --cds-support-error: #da1e28;
  --cds-support-success: #24a148;
  --cds-support-warning: #f1c21b;
  --cds-support-info: #0043ce;

  /* Health Score Colors */
  --health-red: #da1e28;
  --health-yellow: #f1c21b;
  --health-green: #24a148;

  /* Assessment Type Colors */
  --spm-color: #0f62fe;       /* Blue - Strategic Portfolio Management */
  --tbm-color: #198038;       /* Green - Technology Business Management */
  --finops-color: #8a3ffc;    /* Purple - Financial Operations */
  --multi-color: #f1c21b;     /* Gold - Synergistic/Multi-type items */

  /* Spacing Scale */
  --cds-spacing-01: 0.125rem;
  --cds-spacing-02: 0.25rem;
  --cds-spacing-03: 0.5rem;
  --cds-spacing-04: 0.75rem;
  --cds-spacing-05: 1rem;
  --cds-spacing-06: 1.5rem;
  --cds-spacing-07: 2rem;
  --cds-spacing-08: 2.5rem;
  --cds-spacing-09: 3rem;

  /* Typography */
  --cds-body-01-font-size: 0.875rem;
  --cds-body-02-font-size: 1rem;
  --cds-heading-01-font-size: 0.875rem;
  --cds-heading-02-font-size: 1rem;
  --cds-heading-03-font-size: 1.25rem;
  --cds-heading-04-font-size: 1.75rem;
  --cds-heading-05-font-size: 2rem;

  /* Shadows */
  --cds-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* Reset & Base */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: var(--cds-body-01-font-size);
  line-height: 1.5;
  color: var(--cds-text-primary);
  background-color: var(--cds-background);
}

/* Layout */
.app-container {
  display: flex;
  min-height: 100vh;
}

/* Side Navigation */
.side-nav {
  width: 256px;
  background-color: #161616;
  color: var(--cds-text-on-color);
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  z-index: 1000;
  transition: width 0.3s ease, transform 0.3s ease;
  display: flex;
  flex-direction: column;
}

/* Collapsed state for side navigation */
.side-nav.collapsed {
  width: 64px;
}

.side-nav.collapsed .side-nav__title {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

.side-nav.collapsed .side-nav__link span {
  opacity: 0;
  width: 0;
  overflow: hidden;
  white-space: nowrap;
}

.side-nav.collapsed .side-nav__link {
  justify-content: center;
  padding: var(--cds-spacing-04);
}

.side-nav.collapsed .side-nav__header {
  justify-content: center;
}

.side-nav.collapsed .side-nav__toggle svg {
  transform: rotate(180deg);
}

.side-nav__header {
  padding: var(--cds-spacing-05);
  border-bottom: 1px solid #393939;
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
}

.side-nav__logo {
  width: 32px;
  height: 32px;
  background-color: var(--cds-interactive);
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
}

.side-nav__title {
  font-size: var(--cds-heading-02-font-size);
  font-weight: 600;
}

.side-nav__items {
  list-style: none;
  padding: var(--cds-spacing-03) 0;
  flex: 1;
  overflow-y: auto;
  min-height: 0;
}

.side-nav__item {
  padding: 0;
}

.side-nav__link {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  padding: var(--cds-spacing-04) var(--cds-spacing-05);
  color: #c6c6c6;
  text-decoration: none;
  transition: background-color 0.15s, color 0.15s;
}

.side-nav__link:hover {
  background-color: #353535;
  color: #ffffff;
}

.side-nav__link.active {
  background-color: #393939;
  color: #ffffff;
  border-left: 3px solid var(--cds-interactive);
}

.side-nav__link svg {
  width: 20px;
  height: 20px;
  fill: currentColor;
}

.side-nav__divider {
  height: 1px;
  background-color: #393939;
  margin: var(--cds-spacing-03) 0;
}

/* Side Nav Toggle Button */
.side-nav__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--cds-spacing-03);
  width: calc(100% - 24px);
  margin: 12px;
  padding: 10px 16px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: #a8a8a8;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  font-size: 13px;
  font-family: inherit;
}

.side-nav__toggle:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.2);
  color: #ffffff;
}

.side-nav__toggle:active {
  background: rgba(255, 255, 255, 0.16);
  transform: scale(0.98);
}

.side-nav__toggle svg {
  width: 18px;
  height: 18px;
  transition: transform 0.3s ease;
  flex-shrink: 0;
}

.side-nav.collapsed .side-nav__toggle svg {
  transform: rotate(180deg);
}

.side-nav__toggle-text {
  font-weight: 500;
  white-space: nowrap;
}

.side-nav.collapsed .side-nav__toggle {
  width: 40px;
  height: 40px;
  padding: 0;
  margin: 12px auto;
  border-radius: 50%;
}

.side-nav.collapsed .side-nav__toggle-text {
  display: none;
}

/* Main Content */
.main-content {
  flex: 1;
  margin-left: 256px;
  min-height: 100vh;
  transition: margin-left 0.3s ease;
}

/* Adjust main content when nav is collapsed */
.side-nav.collapsed ~ .main-content {
  margin-left: 64px;
}

/* Header */
.header {
  background-color: var(--cds-layer-01);
  border-bottom: 1px solid var(--cds-border-subtle-01);
  padding: var(--cds-spacing-05) var(--cds-spacing-06);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 100;
}

.header__left {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-05);
}

.header__title {
  font-size: var(--cds-heading-04-font-size);
  font-weight: 400;
}

.header__subtitle {
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
}

.header__right {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-05);
}

/* Search */
.search {
  position: relative;
  width: 320px;
}

.search__input {
  width: 100%;
  padding: var(--cds-spacing-03) var(--cds-spacing-05);
  padding-left: 40px;
  border: none;
  border-bottom: 1px solid var(--cds-border-strong-01);
  background-color: var(--cds-layer-02);
  font-size: var(--cds-body-01-font-size);
  transition: border-color 0.15s, background-color 0.15s;
}

.search__input:focus {
  outline: none;
  border-bottom: 2px solid var(--cds-interactive);
  background-color: var(--cds-layer-01);
}

.search__icon {
  position: absolute;
  left: var(--cds-spacing-03);
  top: 50%;
  transform: translateY(-50%);
  color: var(--cds-text-secondary);
}

/* Page Content */
.page-content {
  padding: var(--cds-spacing-06);
}

/* Cards */
.card {
  background-color: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  padding: var(--cds-spacing-05);
  margin-bottom: var(--cds-spacing-05);
}

.card--clickable {
  cursor: pointer;
  transition: box-shadow 0.15s;
}

.card--clickable:hover {
  box-shadow: var(--cds-shadow);
}

.card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--cds-spacing-04);
}

.card__title {
  font-size: var(--cds-heading-03-font-size);
  font-weight: 600;
}

.card__subtitle {
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
}

/* Grid */
.grid {
  display: grid;
  gap: var(--cds-spacing-05);
}

.grid--2 {
  grid-template-columns: repeat(2, 1fr);
}

.grid--3 {
  grid-template-columns: repeat(3, 1fr);
}

.grid--4 {
  grid-template-columns: repeat(4, 1fr);
}

/* Metric Cards */
.metric-card {
  background-color: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  padding: var(--cds-spacing-05);
}

.metric-card__label {
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
  margin-bottom: var(--cds-spacing-02);
}

.metric-card__value {
  font-size: var(--cds-heading-04-font-size);
  font-weight: 600;
}

.metric-card__trend {
  font-size: var(--cds-body-01-font-size);
  margin-top: var(--cds-spacing-02);
}

.metric-card__trend--up {
  color: var(--cds-support-success);
}

.metric-card__trend--down {
  color: var(--cds-support-error);
}

/* Health Badges */
.health-badge {
  display: inline-flex;
  align-items: center;
  padding: var(--cds-spacing-02) var(--cds-spacing-03);
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.health-badge--red {
  background-color: #fff1f1;
  color: var(--health-red);
}

.health-badge--yellow {
  background-color: #fcf4d6;
  color: #8e6a00;
}

.health-badge--green {
  background-color: #defbe6;
  color: #0e6027;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--cds-spacing-03);
  padding: var(--cds-spacing-03) var(--cds-spacing-05);
  font-size: var(--cds-body-01-font-size);
  font-weight: 400;
  border: none;
  cursor: pointer;
  transition: background-color 0.15s;
  min-height: 48px;
}

.btn--primary {
  background-color: var(--cds-interactive);
  color: var(--cds-text-on-color);
}

.btn--primary:hover {
  background-color: var(--cds-interactive-hover);
}

.btn--secondary {
  background-color: #393939;
  color: var(--cds-text-on-color);
}

.btn--secondary:hover {
  background-color: #474747;
}

.btn--tertiary {
  background-color: transparent;
  color: var(--cds-interactive);
  border: 1px solid var(--cds-interactive);
}

.btn--tertiary:hover {
  background-color: var(--cds-interactive);
  color: var(--cds-text-on-color);
}

.btn--ghost {
  background-color: transparent;
  color: var(--cds-interactive);
}

.btn--ghost:hover {
  background-color: var(--cds-background-hover);
}

.btn--icon {
  padding: var(--cds-spacing-03);
  min-height: auto;
}

/* Tables */
.data-table {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--cds-layer-01);
}

.data-table th,
.data-table td {
  padding: var(--cds-spacing-04) var(--cds-spacing-05);
  text-align: left;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.data-table th {
  background-color: var(--cds-layer-02);
  font-weight: 600;
  font-size: var(--cds-heading-01-font-size);
  color: var(--cds-text-secondary);
}

.data-table tr:hover td {
  background-color: var(--cds-layer-hover-01);
}

.data-table__link {
  color: var(--cds-link-primary);
  text-decoration: none;
}

.data-table__link:hover {
  text-decoration: underline;
}

/* Sortable Table Headers */
.data-table th.sortable {
  cursor: pointer;
  user-select: none;
  transition: background-color 0.15s;
}

.data-table th.sortable:hover {
  background-color: var(--cds-background-hover);
}

.data-table th .sort-icon {
  display: inline-block;
  margin-left: var(--cds-spacing-02);
  vertical-align: middle;
}

.data-table th .sort-icon svg {
  transition: transform 0.15s, opacity 0.15s;
}

/* Tags */
.tag {
  display: inline-flex;
  align-items: center;
  padding: var(--cds-spacing-01) var(--cds-spacing-03);
  background-color: var(--cds-background-hover);
  color: var(--cds-text-primary);
  font-size: 0.75rem;
  border-radius: 9999px;
}

.tag--blue {
  background-color: #d0e2ff;
  color: #0043ce;
}

.tag--purple {
  background-color: #e8daff;
  color: #6929c4;
}

.tag--teal {
  background-color: #9ef0f0;
  color: #005d5d;
}

/* Tabs */
.tabs {
  border-bottom: 1px solid var(--cds-border-subtle-01);
  margin-bottom: var(--cds-spacing-05);
}

.tabs__list {
  display: flex;
  list-style: none;
  gap: 0;
}

.tabs__tab {
  padding: var(--cds-spacing-04) var(--cds-spacing-05);
  color: var(--cds-text-secondary);
  text-decoration: none;
  border-bottom: 2px solid transparent;
  transition: color 0.15s, border-color 0.15s;
}

.tabs__tab:hover {
  color: var(--cds-text-primary);
}

.tabs__tab.active {
  color: var(--cds-text-primary);
  border-bottom-color: var(--cds-interactive);
}

/* Progress Bar */
.progress {
  background-color: var(--cds-background-hover);
  height: 8px;
  border-radius: 4px;
  overflow: hidden;
}

.progress__bar {
  height: 100%;
  background-color: var(--cds-interactive);
  transition: width 0.3s ease;
}

.progress__bar--success {
  background-color: var(--cds-support-success);
}

/* Timeline */
.timeline {
  position: relative;
  padding-left: var(--cds-spacing-06);
}

.timeline::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 2px;
  background-color: var(--cds-border-subtle-01);
}

.timeline__item {
  position: relative;
  padding-bottom: var(--cds-spacing-05);
}

.timeline__item::before {
  content: '';
  position: absolute;
  left: -22px;
  top: 4px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--cds-interactive);
  border: 2px solid var(--cds-layer-01);
}

.timeline__date {
  font-size: 0.75rem;
  color: var(--cds-text-secondary);
  margin-bottom: var(--cds-spacing-02);
}

.timeline__content {
  background-color: var(--cds-layer-02);
  padding: var(--cds-spacing-04);
  border-radius: 4px;
}

/* Donut Chart (CSS-only) */
.donut-chart {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  position: relative;
}

.donut-chart__center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.donut-chart__value {
  font-size: var(--cds-heading-04-font-size);
  font-weight: 600;
}

.donut-chart__label {
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
}

/* Legend */
.legend {
  display: flex;
  flex-direction: column;
  gap: var(--cds-spacing-03);
}

.legend__item {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
}

.legend__color {
  width: 12px;
  height: 12px;
  border-radius: 2px;
}

.legend__color--red {
  background-color: var(--health-red);
}

.legend__color--yellow {
  background-color: var(--health-yellow);
}

.legend__color--green {
  background-color: var(--health-green);
}

/* Form Elements */
.form-group {
  margin-bottom: var(--cds-spacing-05);
}

.form-label {
  display: block;
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
  margin-bottom: var(--cds-spacing-02);
}

.form-input {
  width: 100%;
  padding: var(--cds-spacing-03) var(--cds-spacing-05);
  border: none;
  border-bottom: 1px solid var(--cds-border-strong-01);
  background-color: var(--cds-layer-02);
  font-size: var(--cds-body-01-font-size);
}

.form-input:focus {
  outline: none;
  border-bottom: 2px solid var(--cds-interactive);
}

.form-select {
  width: 100%;
  padding: var(--cds-spacing-03) var(--cds-spacing-05);
  border: none;
  border-bottom: 1px solid var(--cds-border-strong-01);
  background-color: var(--cds-layer-02);
  font-size: var(--cds-body-01-font-size);
  cursor: pointer;
}

/* Modal - Old pattern using .modal-overlay wrapper */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s, visibility 0.2s;
}

.modal-overlay.active {
  opacity: 1;
  visibility: visible;
}

.modal-overlay .modal {
  background-color: var(--cds-layer-01);
  width: 100%;
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
}

.modal__header {
  padding: var(--cds-spacing-05);
  border-bottom: 1px solid var(--cds-border-subtle-01);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal__title {
  font-size: var(--cds-heading-03-font-size);
  font-weight: 600;
}

.modal__close {
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--cds-spacing-02);
  color: var(--cds-text-secondary);
}

.modal__body {
  padding: var(--cds-spacing-05);
}

.modal__footer {
  padding: var(--cds-spacing-05);
  border-top: 1px solid var(--cds-border-subtle-01);
  display: flex;
  justify-content: flex-end;
  gap: var(--cds-spacing-03);
}

/* Notifications */
.notification {
  padding: var(--cds-spacing-04) var(--cds-spacing-05);
  display: flex;
  align-items: flex-start;
  gap: var(--cds-spacing-04);
  border-left: 3px solid;
}

.notification--info {
  background-color: #edf5ff;
  border-left-color: var(--cds-support-info);
}

.notification--success {
  background-color: #defbe6;
  border-left-color: var(--cds-support-success);
}

.notification--warning {
  background-color: #fcf4d6;
  border-left-color: var(--cds-support-warning);
}

.notification--error {
  background-color: #fff1f1;
  border-left-color: var(--cds-support-error);
}

/* Avatar */
.avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background-color: var(--cds-interactive);
  color: var(--cds-text-on-color);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.75rem;
}

.avatar--large {
  width: 48px;
  height: 48px;
  font-size: 1rem;
}

/* User Menu */
.user-menu {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  cursor: pointer;
  padding: var(--cds-spacing-02) var(--cds-spacing-03);
  border-radius: 4px;
}

.user-menu:hover {
  background-color: var(--cds-background-hover);
}

.user-menu__name {
  font-size: var(--cds-body-01-font-size);
}

/* Hamburger Menu (Mobile) */
.hamburger {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--cds-spacing-03);
}

.hamburger span {
  display: block;
  width: 24px;
  height: 2px;
  background-color: var(--cds-text-primary);
  margin: 5px 0;
  transition: transform 0.3s;
}

/* Mobile Bottom Nav */
.bottom-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: var(--cds-layer-01);
  border-top: 1px solid var(--cds-border-subtle-01);
  z-index: 1000;
}

.bottom-nav__items {
  display: flex;
  justify-content: space-around;
  list-style: none;
}

.bottom-nav__link {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--cds-spacing-03);
  color: var(--cds-text-secondary);
  text-decoration: none;
  font-size: 0.625rem;
  min-width: 64px;
}

.bottom-nav__link.active {
  color: var(--cds-interactive);
}

.bottom-nav__link svg {
  width: 24px;
  height: 24px;
  margin-bottom: var(--cds-spacing-01);
}

/* Floating Action Button */
.fab {
  position: fixed;
  bottom: 80px;
  right: var(--cds-spacing-05);
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--cds-interactive);
  color: var(--cds-text-on-color);
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 900;
}

.fab:hover {
  background-color: var(--cds-interactive-hover);
}

/* Responsive Breakpoints */
@media (max-width: 1280px) {
  .grid--4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 1024px) {
  .grid--3 {
    grid-template-columns: repeat(2, 1fr);
  }

  .side-nav {
    transform: translateX(-100%);
    width: 256px;
  }

  .side-nav.open {
    transform: translateX(0);
  }

  .side-nav.collapsed {
    width: 256px;
  }

  .side-nav.collapsed .side-nav__title,
  .side-nav.collapsed .side-nav__link span {
    opacity: 1;
    width: auto;
  }

  .side-nav.collapsed .side-nav__link {
    justify-content: flex-start;
    padding: var(--cds-spacing-04) var(--cds-spacing-05);
  }

  .side-nav.collapsed .side-nav__header {
    justify-content: flex-start;
  }

  .main-content {
    margin-left: 0;
  }

  .side-nav.collapsed ~ .main-content {
    margin-left: 0;
  }

  .hamburger {
    display: block;
  }

  .side-nav__toggle {
    display: none;
  }
}

@media (max-width: 768px) {
  .grid--2,
  .grid--3,
  .grid--4 {
    grid-template-columns: 1fr;
  }

  .header__title {
    font-size: var(--cds-heading-03-font-size);
  }

  .search {
    display: none;
  }

  .page-content {
    padding: var(--cds-spacing-05);
    padding-bottom: 80px;
  }

  .bottom-nav {
    display: block;
  }

  .fab {
    display: flex;
  }

  .data-table {
    display: block;
    overflow-x: auto;
  }

  /* Hide table headers on mobile, show as cards */
  .data-table--responsive thead {
    display: none;
  }

  .data-table--responsive tbody tr {
    display: block;
    padding: var(--cds-spacing-04);
    border: 1px solid var(--cds-border-subtle-01);
    margin-bottom: var(--cds-spacing-03);
    border-radius: 4px;
  }

  .data-table--responsive tbody td {
    display: flex;
    justify-content: space-between;
    padding: var(--cds-spacing-02) 0;
    border-bottom: none;
  }

  .data-table--responsive tbody td::before {
    content: attr(data-label);
    font-weight: 600;
    color: var(--cds-text-secondary);
  }
}

/* Utility Classes */
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-secondary { color: var(--cds-text-secondary); }
.text-success { color: var(--cds-support-success); }
.text-error { color: var(--cds-support-error); }
.text-warning { color: var(--cds-support-warning); }

.mt-1 { margin-top: var(--cds-spacing-01); }
.mt-2 { margin-top: var(--cds-spacing-02); }
.mt-3 { margin-top: var(--cds-spacing-03); }
.mt-4 { margin-top: var(--cds-spacing-04); }
.mt-5 { margin-top: var(--cds-spacing-05); }

.mb-1 { margin-bottom: var(--cds-spacing-01); }
.mb-2 { margin-bottom: var(--cds-spacing-02); }
.mb-3 { margin-bottom: var(--cds-spacing-03); }
.mb-4 { margin-bottom: var(--cds-spacing-04); }
.mb-5 { margin-bottom: var(--cds-spacing-05); }

.flex { display: flex; }
.flex-between { justify-content: space-between; }
.flex-center { align-items: center; }
.gap-3 { gap: var(--cds-spacing-03); }
.gap-4 { gap: var(--cds-spacing-04); }
.gap-5 { gap: var(--cds-spacing-05); }

.hidden { display: none; }
.visible { display: block; }

/* Modal Styles */
.modal-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  padding: var(--cds-spacing-05);
}

.modal-overlay.active {
  display: flex;
}

/* Modal content inside modal-overlay pattern (used by admin, tasks, customers pages) */
.modal-overlay .modal {
  background: var(--cds-layer-01);
  border-radius: 4px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  max-width: 640px;
  width: 100%;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  animation: modalSlideIn 0.2s ease-out;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--cds-spacing-05) var(--cds-spacing-06);
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.modal__title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin: 0;
}

.modal__close {
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--cds-spacing-02);
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--cds-text-secondary);
  transition: background-color 0.15s;
}

.modal__close:hover {
  background: var(--cds-background-hover);
}

.modal__body {
  padding: var(--cds-spacing-06);
  overflow-y: auto;
  flex: 1;
}

.modal__footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--cds-spacing-03);
  padding: var(--cds-spacing-05) var(--cds-spacing-06);
  border-top: 1px solid var(--cds-border-subtle-01);
  background: var(--cds-layer-02);
}

/* Modal with .open class pattern */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  align-items: center;
  justify-content: center;
  padding: var(--cds-spacing-05);
}

.modal.open {
  display: flex;
}

.modal__overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.modal__container {
  position: relative;
  background: var(--cds-layer-01);
  border-radius: 4px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  max-width: 640px;
  width: 100%;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  animation: modalSlideIn 0.2s ease-out;
  z-index: 1;
  overflow: hidden;
}

.modal__container > form {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
}

.modal__container .modal__body {
  flex: 1 1 auto;
  overflow-y: auto;
  min-height: 0;
  padding: var(--cds-spacing-05);
}

.modal__container .modal__footer {
  flex-shrink: 0;
  padding: var(--cds-spacing-05);
  border-top: 1px solid var(--cds-border-subtle-01);
}

/* Form Grid */
.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--cds-spacing-05);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--cds-spacing-02);
}

.form-group--full {
  grid-column: 1 / -1;
}

.form-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--cds-text-primary);
}

.form-input,
.form-select {
  padding: 0.75rem 1rem;
  font-size: 0.875rem;
  border: 1px solid var(--cds-border-strong-01);
  border-radius: 4px;
  background: var(--cds-layer-01);
  color: var(--cds-text-primary);
  transition: border-color 0.15s, box-shadow 0.15s;
}

.form-input:focus,
.form-select:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.2);
}

.form-input::placeholder {
  color: var(--cds-text-placeholder);
}

/* File input styling */
input[type="file"].form-input {
  padding: 0.5rem;
  cursor: pointer;
  background: var(--cds-field-01);
}

input[type="file"].form-input::file-selector-button {
  padding: 0.5rem 1rem;
  margin-right: 1rem;
  background: var(--cds-interactive);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.875rem;
}

input[type="file"].form-input::file-selector-button:hover {
  background: var(--cds-hover-primary);
}

.form-select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 32 32'%3E%3Cpath d='M16 22L6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 40px;
}

/* Toast notification */
.toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: var(--cds-spacing-04) var(--cds-spacing-05);
  border-radius: 4px;
  color: white;
  font-size: 0.875rem;
  z-index: 1001;
  animation: toastSlideIn 0.3s ease-out;
}

.toast--success {
  background: var(--cds-support-success);
}

.toast--error {
  background: var(--cds-support-error);
}

@keyframes toastSlideIn {
  from {
    opacity: 0;
    transform: translateX(100px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Action Menu */
.action-menu {
  display: none;
  position: absolute;
  right: 0;
  top: 100%;
  min-width: 160px;
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 9999;
  padding: var(--cds-spacing-02) 0;
}

/* Ensure action menu can overflow table cells and card container */
.card:has(.data-table) {
  overflow: visible !important;
}

.data-table td {
  overflow: visible;
}

.data-table tbody {
  overflow: visible;
}

.action-menu-wrapper {
  position: relative;
  display: inline-block;
  overflow: visible;
}

.action-menu.active {
  display: block;
}

.action-menu__item {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  width: 100%;
  padding: var(--cds-spacing-03) var(--cds-spacing-04);
  background: none;
  border: none;
  font-size: 14px;
  color: var(--cds-text-primary);
  cursor: pointer;
  text-align: left;
  transition: background 0.15s ease;
}

.action-menu__item:hover {
  background: var(--cds-background-hover);
}

.action-menu__item svg {
  flex-shrink: 0;
  fill: currentColor;
}

.action-menu__item--danger {
  color: var(--cds-support-error);
}

.action-menu__item--danger:hover {
  background: #fff1f1;
}

.action-menu__divider {
  height: 1px;
  background: var(--cds-border-subtle-01);
  margin: var(--cds-spacing-02) 0;
}

/* Responsive form grid */
@media (max-width: 600px) {
  .form-grid {
    grid-template-columns: 1fr;
  }

  .modal {
    max-height: 100vh;
    border-radius: 0;
  }
}

/* Admin Page Styles */
.stat-item {
  background: var(--cds-layer-01);
  padding: var(--cds-spacing-05);
  border-radius: 4px;
  border: 1px solid var(--cds-border-subtle-01);
  text-align: center;
}

.stat-item__label {
  font-size: 12px;
  color: var(--cds-text-secondary);
  margin-bottom: var(--cds-spacing-02);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-item__value {
  font-size: 24px;
  font-weight: 600;
  color: var(--cds-text-primary);
}

.btn--danger {
  background: var(--cds-support-error);
  color: white;
  border: none;
}

.btn--danger:hover {
  background: #b81921;
}

.checkbox-wrapper {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  cursor: pointer;
}

.checkbox-wrapper input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.checkbox-label {
  font-size: 14px;
  color: var(--cds-text-primary);
}

.results-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.results-list li {
  padding: var(--cds-spacing-03) 0;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  font-size: 14px;
  color: var(--cds-text-secondary);
}

.results-list li:last-child {
  border-bottom: none;
}

.notification--success {
  background: #defbe6;
  border-left: 3px solid var(--cds-support-success);
}

.notification--info {
  background: #edf5ff;
  border-left: 3px solid var(--cds-support-info);
}

.loading-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid currentColor;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 0.8s linear infinite;
}

.gap-4 {
  gap: var(--cds-spacing-05);
}

/* Additional tag colors for user roles */
.tag--purple {
  background: #e8daff;
  color: #6929c4;
}

.tag--teal {
  background: #d9fbfb;
  color: #005d5d;
}

/* Small avatar */
.avatar--small {
  width: 32px;
  height: 32px;
  font-size: 12px;
}

/* Small button */
.btn--small {
  padding: var(--cds-spacing-02) var(--cds-spacing-03);
  font-size: 12px;
}

/* Text center */
.text-center {
  text-align: center;
}

/* Text danger */
.text-danger {
  color: var(--cds-support-error);
}

/* Data table container */
.data-table-container {
  overflow-x: auto;
}

.data-table {
  width: 100%;
  border-collapse: collapse;
}

.data-table th,
.data-table td {
  padding: var(--cds-spacing-04);
  text-align: left;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.data-table th {
  font-weight: 600;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--cds-text-secondary);
  background: var(--cds-layer-02);
}

.data-table tr:hover {
  background: var(--cds-layer-hover-01);
}

/* Toggle Switch */
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 24px;
  cursor: pointer;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-slider {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--cds-border-strong-01);
  border-radius: 24px;
  transition: background-color 0.2s ease;
}

.toggle-slider::before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.2s ease;
}

.toggle-switch input:checked + .toggle-slider {
  background-color: var(--cds-interactive);
}

.toggle-switch input:checked + .toggle-slider::before {
  transform: translateX(24px);
}

.toggle-switch input:focus + .toggle-slider {
  box-shadow: 0 0 0 2px var(--cds-interactive);
}

/* Setting Row */
.setting-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--cds-spacing-04) 0;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.setting-row:last-child {
  border-bottom: none;
}

.setting-info {
  flex: 1;
  margin-right: var(--cds-spacing-05);
}

.setting-label {
  font-weight: 500;
  color: var(--cds-text-primary);
  margin-bottom: var(--cds-spacing-02);
}

.setting-description {
  font-size: 14px;
  color: var(--cds-text-secondary);
}

/* Adoption Journey Styles */
.adoption-journey-card {
  cursor: pointer;
  transition: box-shadow 0.2s ease;
}

.adoption-journey-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.adoption-journey-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--cds-spacing-04);
}

.adoption-journey-edit-hint {
  font-size: 12px;
  color: var(--cds-text-secondary);
  display: flex;
  align-items: center;
  gap: 4px;
  opacity: 0;
  transition: opacity 0.2s;
}

.adoption-journey-card:hover .adoption-journey-edit-hint {
  opacity: 1;
}

/* Stage Selector in Modal */
.stage-selector {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 24px;
}

.stage-selector__option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border: 2px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  background: var(--cds-layer-01);
}

.stage-selector__option:hover {
  border-color: var(--cds-interactive);
  background: var(--cds-background-hover);
}

.stage-selector__option.selected {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.08);
}

.stage-selector__number {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--cds-border-subtle-01);
  color: var(--cds-text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 14px;
  flex-shrink: 0;
}

.stage-selector__option.selected .stage-selector__number,
.stage-selector__option.completed .stage-selector__number {
  background: var(--cds-interactive);
  color: white;
}

.stage-selector__option.completed .stage-selector__number {
  background: var(--cds-support-success);
}

.stage-selector__content {
  flex: 1;
}

.stage-selector__name {
  font-weight: 600;
  color: var(--cds-text-primary);
  margin-bottom: 2px;
}

.stage-selector__description {
  font-size: 13px;
  color: var(--cds-text-secondary);
}

.stage-selector__check {
  width: 24px;
  height: 24px;
  color: var(--cds-interactive);
  opacity: 0;
}

.stage-selector__option.selected .stage-selector__check {
  opacity: 1;
}

/* Adoption History List */
.adoption-history {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
}

.adoption-history__item {
  padding: 12px 16px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.adoption-history__item:last-child {
  border-bottom: none;
}

.adoption-history__change {
  display: flex;
  align-items: center;
  gap: 8px;
}

.adoption-history__arrow {
  color: var(--cds-text-secondary);
}

.adoption-history__date {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.adoption-history__empty {
  padding: 24px;
  text-align: center;
  color: var(--cds-text-secondary);
}

/* Admin Adoption Stage Management */
.stage-config-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.stage-config-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--cds-layer-02);
  border-radius: 8px;
  border: 1px solid var(--cds-border-subtle-01);
}

.stage-config-item__drag {
  cursor: grab;
  color: var(--cds-text-secondary);
}

.stage-config-item__number {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--cds-interactive);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 12px;
  flex-shrink: 0;
}

.stage-config-item__content {
  flex: 1;
}

.stage-config-item__name {
  font-weight: 500;
}

.stage-config-item__actions {
  display: flex;
  gap: 8px;
}

/* Admin Adoption Stat Cards */
.adoption-stat-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background: var(--cds-layer-02);
  border-radius: 8px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.adoption-stat-card:hover {
  background: var(--cds-background-hover);
  border-color: var(--cds-border-subtle-01);
}

.adoption-stat-card.selected {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.adoption-stat-card__number {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--cds-interactive);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 14px;
  flex-shrink: 0;
}

.adoption-stat-card__content {
  flex: 1;
  min-width: 0;
}

.adoption-stat-card__name {
  font-size: 12px;
  color: var(--cds-text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.adoption-stat-card__count {
  font-size: 24px;
  font-weight: 600;
  line-height: 1.2;
}

/* Grid adjustment for 5 columns */
.grid--5 {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
}

@media (max-width: 1200px) {
  .grid--5 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .grid--5 {
    grid-template-columns: repeat(2, 1fr);
  }
}

.flex-column {
  flex-direction: column;
}

/* ==========================================
   SPM MATURITY ASSESSMENT STYLES
   ========================================== */

/* Assessment Chart Container */
.assessment-chart-container {
  max-width: 500px;
  margin: 0 auto;
  padding: 16px 32px;
  border-radius: 8px;
  transition: all 0.2s ease;
  position: relative;
}

.assessment-chart-container:hover {
  background: rgba(15, 98, 254, 0.05);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.2);
}

.assessment-chart-container::after {
  content: 'Click to enlarge';
  position: absolute;
  bottom: 8px;
  right: 8px;
  font-size: 11px;
  color: #737373;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.assessment-chart-container:hover::after {
  opacity: 1;
}

/* Button success state */
.btn--success {
  background-color: #10b981 !important;
  border-color: #10b981 !important;
  color: white !important;
}

/* Comparison Legend */
.comparison-legend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 16px;
  padding: 12px 16px;
  margin-top: 8px;
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
}

.comparison-legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.comparison-legend-color {
  width: 16px;
  height: 16px;
  border-radius: 50%;
}

.comparison-legend-label {
  font-size: 12px;
  color: var(--cds-text-primary);
  font-weight: 500;
}

/* Compare Checkbox in Table */
.compare-checkbox {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--cds-interactive);
}

.tag--blue {
  background-color: var(--cds-interactive);
  color: white;
}

.tag--sm {
  font-size: 10px;
  padding: 2px 6px;
}

/* Overall Score Display */
.assessment-overall-score {
  text-align: center;
  padding: 20px;
  background: linear-gradient(135deg, #161616 0%, #393939 100%);
  color: white;
  border-radius: 8px;
  margin-top: 16px;
}

.assessment-overall-score .score-value {
  font-size: 42px;
  font-weight: 700;
  display: block;
}

.assessment-overall-score .score-label {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
}

/* Dimension Scores Grid */
.dimension-scores-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.dimension-score-card {
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  padding: 16px;
}

.dimension-score-card__name {
  font-size: 12px;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.dimension-score-card__score {
  font-size: 28px;
  font-weight: 600;
  margin-bottom: 8px;
}

.dimension-score-card__bar {
  height: 4px;
  background: var(--cds-border-subtle-01);
  border-radius: 2px;
  overflow: hidden;
}

.dimension-score-card__fill {
  height: 100%;
  background: var(--cds-interactive);
  border-radius: 2px;
  transition: width 0.3s ease;
}

/* Assessment Details */
.assessment-details {
  background: var(--cds-layer-02);
  border-radius: 8px;
  padding: 16px;
}

/* Template Selection List */
.template-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.template-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: var(--cds-layer-02);
  border: 2px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.template-card:hover {
  border-color: var(--cds-interactive);
  background: var(--cds-layer-hover-02);
}

.template-card__info {
  flex: 1;
}

.template-card__name {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 4px;
}

.template-card__meta {
  font-size: 13px;
  color: var(--cds-text-secondary);
}

.template-card__arrow {
  color: var(--cds-text-secondary);
}

.template-card:hover .template-card__arrow {
  color: var(--cds-interactive);
}

/* Assessment Wizard Progress */
.assessment-wizard-progress {
  margin-bottom: 24px;
}

.wizard-progress__bar {
  height: 4px;
  background: var(--cds-border-subtle-01);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 12px;
}

.wizard-progress__fill {
  height: 100%;
  background: var(--cds-interactive);
  transition: width 0.3s ease;
}

.wizard-progress__text {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  color: var(--cds-text-secondary);
}

/* Assessment Question Container */
.assessment-question-container {
  background: var(--cds-layer-02);
  border-radius: 8px;
  padding: 24px;
  margin-bottom: 16px;
}

/* Rating Scale */
.rating-scale {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.rating-option {
  padding: 16px;
  border: 2px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  background: var(--cds-layer-01);
  text-align: left;
}

.rating-option:hover {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.rating-option.selected {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.1);
}

.rating-option__header {
  display: flex;
  align-items: center;
  gap: 16px;
}

.rating-option__score {
  font-size: 18px;
  font-weight: 600;
  background: var(--cds-layer-02);
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  flex-shrink: 0;
}

.rating-option.selected .rating-option__score {
  background: var(--cds-interactive);
  color: white;
}

.rating-option__label {
  font-size: 15px;
  font-weight: 600;
  color: var(--cds-text-primary);
  line-height: 1.3;
  flex: 1;
}

.rating-option__details {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--cds-border-subtle-01);
}

.rating-option__description {
  font-size: 13px;
  color: var(--cds-text-secondary);
  line-height: 1.5;
  margin-bottom: 8px;
}

.rating-option__evidence {
  font-size: 12px;
  color: var(--cds-text-helper);
  line-height: 1.4;
  background: var(--cds-layer-02);
  padding: 8px 10px;
  border-radius: 4px;
}

.rating-option__evidence strong {
  color: var(--cds-text-secondary);
}

/* Assessment Report Styles */
.assessment-report {
  padding: 8px;
}

.report-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid var(--cds-text-primary);
}

.report-header-main {
  flex: 1;
}

.report-title {
  font-size: 24px;
  font-weight: 600;
  margin: 0 0 4px 0;
}

.report-subtitle {
  color: var(--cds-text-secondary);
  margin: 0;
}

.report-overall-score {
  text-align: center;
  padding: 12px 24px;
  background: var(--cds-layer-02);
  border-radius: 8px;
  min-width: 120px;
}

.report-overall-label {
  display: block;
  font-size: 12px;
  color: var(--cds-text-secondary);
  margin-bottom: 4px;
}

.report-overall-value {
  display: block;
  font-size: 32px;
  font-weight: 600;
}

.report-overall-score.score-high .report-overall-value { color: var(--cds-support-success); }
.report-overall-score.score-medium .report-overall-value { color: #f1c21b; }
.report-overall-score.score-low .report-overall-value { color: var(--cds-support-warning); }
.report-overall-score.score-critical .report-overall-value { color: var(--cds-support-error); }

.report-meta-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 16px;
  margin-bottom: 24px;
  padding: 16px;
  background: var(--cds-layer-02);
  border-radius: 8px;
}

.report-meta-item {
  display: flex;
  flex-direction: column;
}

.report-meta-label {
  font-size: 11px;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.report-meta-value {
  font-weight: 500;
}

.report-section {
  margin-bottom: 24px;
}

.report-section-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 12px 0;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.report-dimension-scores {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.report-dimension-score {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  background: var(--cds-layer-01);
  border-radius: 4px;
}

.report-dimension-name {
  flex: 0 0 150px;
  font-weight: 500;
}

.report-dimension-value {
  font-weight: 600;
  width: 40px;
  text-align: right;
  color: var(--cds-interactive);
}

.report-dimension-bar {
  flex: 1;
  height: 8px;
  background: var(--cds-layer-02);
  border-radius: 4px;
  overflow: hidden;
}

.report-dimension-bar-fill {
  height: 100%;
  background: var(--cds-interactive);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.report-dimension-section {
  margin-bottom: 20px;
}

.report-dimension-header {
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 8px 0;
  padding: 10px 12px;
  background: var(--cds-layer-02);
  border-radius: 4px;
}

.report-questions-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.report-questions-table th,
.report-questions-table td {
  padding: 10px 12px;
  border: 1px solid var(--cds-border-subtle-01);
  text-align: left;
  vertical-align: top;
}

.report-questions-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.report-questions-table tbody tr:hover {
  background: var(--cds-layer-hover-01);
}

.report-score-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 4px;
  font-weight: 600;
  font-size: 13px;
}

.report-score-badge.score-high { background: #defbe6; color: #198038; }
.report-score-badge.score-medium { background: #fcf4d6; color: #8a6d3b; }
.report-score-badge.score-low { background: #fff1e1; color: #ba4e00; }
.report-score-badge.score-critical { background: #fff1f1; color: #da1e28; }

.report-notes-cell {
  max-width: 200px;
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.report-notes {
  padding: 12px 16px;
  background: var(--cds-layer-02);
  border-radius: 4px;
  white-space: pre-wrap;
  font-size: 14px;
  line-height: 1.6;
}

/* Report Detail Rows - Rating Description & Evidence */
.report-detail-row {
  background: var(--cds-layer-02);
}

.report-detail-row td {
  padding-top: 4px !important;
  padding-bottom: 12px !important;
  border-top: none !important;
}

.report-detail-section {
  margin-bottom: 8px;
}

.report-detail-section:last-child {
  margin-bottom: 0;
}

.report-detail-label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: var(--cds-text-secondary);
  margin-bottom: 2px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.report-detail-text {
  display: block;
  font-size: 12px;
  color: var(--cds-text-primary);
  line-height: 1.5;
}

/* Enhanced Report Question Cards */
.report-questions-cards {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.report-question-card {
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  overflow: hidden;
}

.report-question-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px;
  background: var(--cds-layer-01);
}

.report-question-number {
  flex-shrink: 0;
  font-weight: 600;
  color: var(--cds-text-secondary);
  min-width: 40px;
}

.report-question-text {
  flex: 1;
  color: var(--cds-text-primary);
  font-size: 14px;
  line-height: 1.5;
}

.report-question-score-area {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  min-width: 100px;
}

.report-score-label {
  font-size: 11px;
  color: var(--cds-text-secondary);
  text-align: center;
}

.report-question-details {
  border-top: 1px solid var(--cds-border-subtle-01);
  background: var(--cds-layer-02);
  padding: 12px 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Rating Description Section */
.report-rating-description {
  background: #e8f4fd;
  border: 1px solid #b8daff;
  border-radius: 6px;
  padding: 10px 12px;
}

.report-rating-description .report-detail-label {
  color: #004085;
}

.report-rating-description .report-detail-text {
  color: #004085;
}

/* Evidence Required Section */
.report-evidence-required {
  background: #fff3e0;
  border: 1px solid #ffcc80;
  border-radius: 6px;
  padding: 10px 12px;
}

.report-evidence-required .report-detail-label {
  color: #e65100;
}

.report-evidence-required .report-detail-text {
  color: #bf360c;
}

/* Assessor Notes Section */
.report-assessor-notes {
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
  padding: 10px 12px;
}

.report-assessor-notes .report-detail-label {
  color: var(--cds-text-secondary);
}

.report-notes-content {
  white-space: pre-wrap;
  word-break: break-word;
}

/* Evidence Links */
.report-evidence-link {
  color: var(--cds-link-primary);
  text-decoration: none;
  word-break: break-all;
}

.report-evidence-link:hover {
  text-decoration: underline;
}

/* Evidence Thumbnails */
.report-evidence-thumbnails {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.report-evidence-thumbnail {
  position: relative;
  width: 80px;
  height: 80px;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
  border: 1px solid var(--cds-border-subtle-01);
  transition: transform 0.2s, box-shadow 0.2s;
}

.report-evidence-thumbnail:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.report-evidence-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.report-thumbnail-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  opacity: 0;
  transition: opacity 0.2s;
}

.report-evidence-thumbnail:hover .report-thumbnail-overlay {
  opacity: 1;
}

/* Image Lightbox */
.image-lightbox {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
}

.image-lightbox.active {
  display: flex;
  align-items: center;
  justify-content: center;
}

.lightbox-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
}

.lightbox-content {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  z-index: 1;
}

.lightbox-content img {
  max-width: 100%;
  max-height: 90vh;
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.lightbox-close {
  position: absolute;
  top: -40px;
  right: 0;
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background 0.2s;
}

.lightbox-close:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Assessment Recommendations Styles */
.recommendations-section {
  margin-top: 32px;
  page-break-before: auto;
}

.report-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.report-section-header .report-section-title {
  margin: 0;
  padding: 0;
  border: none;
}

.recommendations-empty {
  padding: 32px;
  text-align: center;
  background: var(--cds-layer-02);
  border-radius: 8px;
  border: 2px dashed var(--cds-border-subtle-01);
}

.recommendations-empty p {
  margin: 4px 0;
}

.recommendation-card {
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 12px;
  transition: box-shadow 0.2s ease;
}

.recommendation-card:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.recommendation-card:last-child {
  margin-bottom: 0;
}

.recommendation-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 8px;
}

.recommendation-title-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  flex: 1;
}

.recommendation-priority {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.recommendation-priority.priority--high {
  background: #fff1f1;
  color: #da1e28;
  border: 1px solid #da1e28;
}

.recommendation-priority.priority--medium {
  background: #fcf4d6;
  color: #8a6d3b;
  border: 1px solid #f1c21b;
}

.recommendation-priority.priority--low {
  background: #defbe6;
  color: #198038;
  border: 1px solid #24a148;
}

.recommendation-category {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  background: var(--cds-layer-02);
  color: var(--cds-text-secondary);
}

.recommendation-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin: 0;
  flex: 1;
}

.recommendation-actions {
  display: flex;
  gap: 4px;
  flex-shrink: 0;
}

.recommendation-actions .btn--icon {
  padding: 4px;
  width: 28px;
  height: 28px;
}

.recommendation-actions .btn--danger:hover {
  background: #fff1f1;
  color: #da1e28;
}

.recommendation-description {
  font-size: 13px;
  line-height: 1.6;
  color: var(--cds-text-primary);
  margin: 8px 0;
  padding: 12px;
  background: var(--cds-layer-02);
  border-radius: 4px;
}

.recommendation-description ul,
.recommendation-description ol {
  margin: 8px 0;
  padding-left: 20px;
}

.recommendation-description li {
  margin: 4px 0;
}

.recommendation-description a {
  color: var(--cds-link-primary);
  text-decoration: none;
}

.recommendation-description a:hover {
  text-decoration: underline;
}

.recommendation-meta {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  font-size: 11px;
  color: var(--cds-text-secondary);
  margin-top: 8px;
}

/* Recommendation Card BEM Styles (expandable cards) */
.recommendation-card__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  cursor: pointer;
  gap: 8px;
}

.recommendation-card__title {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 0;
  flex: 1;
  min-width: 0;
}

.recommendation-card__meta {
  display: flex;
  gap: 8px;
  font-size: 13px;
  color: var(--cds-text-secondary);
  flex-wrap: wrap;
  align-items: center;
}

.recommendation-card__priority {
  background: var(--cds-interactive);
  color: white;
  font-size: 12px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 4px;
  white-space: nowrap;
}

.recommendation-card__toggle {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: var(--cds-text-secondary);
  transition: transform 0.2s ease;
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

.recommendation-card__toggle:hover {
  color: var(--cds-text-primary);
}

.recommendation-card__body {
  display: none;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--cds-border-subtle-01);
}

.recommendation-card__description {
  font-size: 14px;
  color: var(--cds-text-secondary);
  margin-bottom: 12px;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  border: 1px solid transparent;
  transition: border-color 0.15s ease, background 0.15s ease;
}

.recommendation-card__description:hover {
  background: var(--cds-layer-02);
  border-color: var(--cds-border-subtle-01);
}

.recommendation-card__description--empty {
  color: var(--cds-text-placeholder);
  font-style: italic;
}

.recommendation-card__edit-textarea {
  width: 100%;
  min-height: 80px;
  padding: 8px;
  font-size: 14px;
  font-family: inherit;
  border: 1px solid var(--cds-interactive);
  border-radius: 4px;
  background: var(--cds-field-01);
  color: var(--cds-text-primary);
  resize: vertical;
  margin-bottom: 12px;
}

.recommendation-card__edit-textarea:focus {
  outline: 2px solid var(--cds-interactive);
  outline-offset: -2px;
}

.recommendation-card__detail-row {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
  font-size: 13px;
  color: var(--cds-text-secondary);
  margin-bottom: 12px;
}

.recommendation-card__detail-row span {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.recommendation-card__detail-label {
  font-weight: 500;
  color: var(--cds-text-primary);
}

.recommendation-card__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.recommendation-card__improvement {
  font-size: 12px;
  color: var(--cds-support-success);
}

.recommendation-card__actions {
  display: flex;
  gap: 8px;
}

/* Expanded state */
.recommendation-card--expanded {
  border-color: var(--cds-interactive);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.recommendation-card--expanded .recommendation-card__body {
  display: block;
}

.recommendation-card--expanded .recommendation-card__toggle {
  transform: rotate(180deg);
}

.recommendation-card.accepted {
  opacity: 0.6;
  background: var(--cds-layer-01);
}

/* Roadmap Recommendation Styles */
.recommendation-dimension-group {
  margin-bottom: 24px;
}

.recommendation-dimension-group:last-child {
  margin-bottom: 0;
}

.recommendation-dimension-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--cds-layer-02);
  border-radius: 6px 6px 0 0;
  border: 1px solid var(--cds-border-subtle-01);
  border-bottom: none;
}

.recommendation-dimension-name {
  font-weight: 600;
  font-size: 14px;
  color: var(--cds-text-primary);
}

.recommendation-dimension-score {
  font-size: 12px;
}

.recommendation-dimension-group .recommendation-card {
  border-radius: 0;
  margin-bottom: 0;
  border-top: none;
}

.recommendation-dimension-group .recommendation-card:last-child {
  border-radius: 0 0 6px 6px;
}

.recommendation-priority-score {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 24px;
  background: var(--cds-interactive);
  color: white;
  font-size: 11px;
  font-weight: 600;
  border-radius: 4px;
}

.recommendation-improvement {
  display: flex;
  align-items: center;
  padding: 4px 8px;
  background: #defbe6;
  color: #198038;
  font-size: 12px;
  font-weight: 500;
  border-radius: 4px;
}

.recommendation-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.recommendation-badge--accepted {
  background: #defbe6;
  color: #198038;
  border: 1px solid #24a148;
}

.recommendation--accepted {
  border-left: 3px solid #24a148;
}

.recommendation-use-case,
.recommendation-area,
.recommendation-tp-feature {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  background: var(--cds-layer-02);
  border-radius: 4px;
  font-size: 11px;
}

.recommendation-tp-feature {
  background: #e5f1ff;
  color: #0f62fe;
}

/* Recommendation Feedback UI */
.recommendation-feedback {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--cds-border-subtle-01);
}

.recommendation-feedback-label {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.recommendation-feedback-buttons {
  display: flex;
  gap: 8px;
}

.feedback-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
  background: var(--cds-layer-01);
  color: var(--cds-text-secondary);
  cursor: pointer;
  transition: all 0.15s ease;
}

.feedback-btn:hover {
  background: var(--cds-layer-02);
  border-color: var(--cds-border-strong-01);
}

.feedback-btn--thumbs-up:hover,
.feedback-btn--thumbs-up.feedback-btn--active {
  background: #defbe6;
  border-color: #24a148;
  color: #198038;
}

.feedback-btn--thumbs-down:hover,
.feedback-btn--thumbs-down.feedback-btn--active {
  background: #fff1f1;
  border-color: #da1e28;
  color: #da1e28;
}

.feedback-btn--active {
  border-width: 2px;
}

/* Star Rating Widget */
.star-rating {
  display: flex;
  gap: 4px;
}

.star-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  color: var(--cds-border-subtle-01);
  cursor: pointer;
  transition: all 0.15s ease;
  padding: 0;
}

.star-btn:hover {
  color: #f1c21b;
  transform: scale(1.1);
}

.star-btn--active {
  color: #f1c21b;
}

/* Hover preview for all stars up to hovered one */
.star-rating:hover .star-btn {
  color: var(--cds-border-subtle-01);
}

.star-rating .star-btn:hover,
.star-rating .star-btn:hover ~ .star-btn {
  color: var(--cds-border-subtle-01);
}

.star-rating:hover .star-btn:hover,
.star-rating:hover .star-btn:has(~ .star-btn:hover) {
  color: #f1c21b;
}

/* Keep active stars gold when not hovering */
.star-rating:not(:hover) .star-btn--active {
  color: #f1c21b;
}

/* Print styles for recommendations */
@media print {
  .recommendations-section .no-print {
    display: none !important;
  }

  .recommendation-card {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .recommendation-actions {
    display: none;
  }
}

/* Report Radar Chart Styles */
.report-radar-section {
  margin-bottom: 32px;
}

.report-radar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.report-radar-controls {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.report-comparison-select {
  display: flex;
  align-items: center;
}

.report-comparison-select label {
  white-space: nowrap;
}

.report-target-toggle {
  display: flex;
  align-items: center;
  padding: 4px 12px;
  background: rgba(255, 131, 0, 0.08);
  border-radius: 4px;
  border: 1px solid rgba(255, 131, 0, 0.3);
}

.report-target-toggle .checkbox-label {
  margin: 0;
}

.report-target-toggle input[type="checkbox"] {
  accent-color: #ff8300;
}

.report-radar-container {
  position: relative;
  width: 100%;
  max-width: 500px;
  margin: 0 auto;
  padding: 20px 0;
}

.report-radar-legend {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 16px;
  margin-top: 16px;
  padding: 12px;
  background: var(--cds-layer-01);
  border-radius: 8px;
}

.report-radar-legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.report-radar-legend-color {
  width: 16px;
  height: 16px;
  border-radius: 4px;
  flex-shrink: 0;
}

.report-radar-legend-label {
  font-size: 13px;
  color: var(--cds-text-primary);
}

.report-radar-hint {
  text-align: center;
  color: var(--cds-text-secondary);
  font-size: 12px;
  margin-top: 12px;
  font-style: italic;
}

/* Hide controls in print view */
.no-print {
  /* This class will be hidden in print via @media print */
}

/* Print Styles for Report */
@media print {
  .report-question-card {
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: 12px;
    border: 1px solid #ccc;
  }

  .report-question-header {
    background: #f5f5f5 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .report-question-details {
    background: #fafafa !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .report-rating-description {
    background: #e8f4fd !important;
    border-color: #b8daff !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .report-evidence-required {
    background: #fff3e0 !important;
    border-color: #ffcc80 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .report-assessor-notes {
    background: #f5f5f5 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .report-evidence-thumbnail {
    width: 60px;
    height: 60px;
  }

  .report-thumbnail-overlay {
    display: none;
  }

  .report-evidence-link {
    color: #0066cc !important;
    text-decoration: underline;
  }

  .image-lightbox {
    display: none !important;
  }

  /* Radar chart print styles */
  .no-print {
    display: none !important;
  }

  .report-radar-section {
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: 24px;
  }

  .report-radar-header {
    border-bottom: 1px solid #ccc;
  }

  .report-radar-container {
    max-width: 400px;
    padding: 10px 0;
  }

  .report-radar-legend {
    background: #f5f5f5 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

@media (max-width: 768px) {
  .report-meta-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .report-dimension-scores {
    grid-template-columns: 1fr;
  }
  .report-question-header {
    flex-wrap: wrap;
  }
  .report-question-score-area {
    width: 100%;
    flex-direction: row;
    justify-content: flex-start;
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px dashed var(--cds-border-subtle-01);
  }
}

/* Trend Indicators */
.trend-indicator {
  background: var(--cds-layer-02);
  border-radius: 8px;
  padding: 12px;
  text-align: center;
}

.trend-indicator--overall {
  background: var(--cds-layer-01);
  border: 2px solid var(--cds-border-subtle-01);
}

.trend-indicator__name {
  font-size: 11px;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  display: block;
  margin-bottom: 4px;
}

.trend-indicator__change {
  font-size: 16px;
  font-weight: 600;
}

.trend-up {
  color: var(--cds-support-success);
}

.trend-down {
  color: var(--cds-support-error);
}

.trend-same {
  color: var(--cds-text-secondary);
}

/* Tag colors */
.tag--green {
  background: rgba(36, 161, 72, 0.15);
  color: var(--cds-support-success);
}

.tag--yellow {
  background: rgba(241, 194, 27, 0.2);
  color: #8e6a00;
}

.tag--purple {
  background: rgba(138, 63, 252, 0.15);
  color: #8a3ffc;
}

.tag--outline {
  background: transparent;
  border: 1px solid var(--cds-border-subtle-01);
  color: var(--cds-text-secondary);
}

/* ==========================================
   USE CASE TRACKER IMPROVEMENTS
   ========================================== */

/* Use Case Item with full description wrap */
.use-case-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  margin-bottom: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.use-case-item:hover {
  background: var(--cds-layer-hover-01);
  border-color: var(--cds-interactive);
}

.use-case-item__checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid var(--cds-border-strong-01);
  border-radius: 4px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 2px;
}

.use-case-item__checkbox.checked {
  background: var(--cds-support-success);
  border-color: var(--cds-support-success);
  color: white;
}

.use-case-item__checkbox.in-progress {
  background: var(--cds-support-warning);
  border-color: var(--cds-support-warning);
}

.use-case-item__content {
  flex: 1;
  min-width: 0;
}

.use-case-item__name {
  font-weight: 500;
  margin-bottom: 4px;
  word-wrap: break-word;
}

.use-case-item__description {
  font-size: 13px;
  color: var(--cds-text-secondary);
  line-height: 1.4;
  word-wrap: break-word;
}

.use-case-item__status {
  flex-shrink: 0;
}

/* Use Case History Chart */
.use-case-history-chart {
  height: 200px;
  margin-top: 16px;
}

/* Use Case Status Modal */
.use-case-status-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.status-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border: 2px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.status-option:hover {
  border-color: var(--cds-interactive);
}

.status-option.selected {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.status-option__icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.status-option__icon--not-started {
  background: var(--cds-border-subtle-01);
}

.status-option__icon--in-progress {
  background: var(--cds-support-warning);
}

.status-option__icon--implemented {
  background: var(--cds-support-success);
  color: white;
}

.status-option__icon--optimized {
  background: var(--cds-interactive);
  color: white;
}

.status-option__label {
  font-weight: 500;
}

.status-option__description {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

/* Health Distribution Drill-down */
.legend__item--clickable {
  cursor: pointer;
  padding: 8px 12px;
  margin: -8px -12px;
  border-radius: 4px;
  transition: background-color 0.15s ease;
}

.legend__item--clickable:hover {
  background-color: var(--cds-layer-hover-01);
}

/* Health Drill-down Modal */
.modal--open {
  display: flex !important;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal__content {
  position: relative;
  background: var(--cds-layer-01);
  border-radius: 8px;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  animation: modalSlideIn 0.2s ease-out;
  z-index: 1;
  overflow: hidden;
}

.modal__content--medium {
  width: 100%;
  max-width: 600px;
}

.modal__header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 20px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.modal__title {
  font-size: 1.25rem;
  font-weight: 600;
  flex: 1;
}

.modal__count {
  font-size: 0.875rem;
}

.modal__close {
  background: none;
  border: none;
  padding: 8px;
  cursor: pointer;
  color: var(--cds-text-secondary);
  border-radius: 4px;
  transition: background-color 0.15s, color 0.15s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal__close:hover {
  background-color: var(--cds-layer-hover-01);
  color: var(--cds-text-primary);
}

.modal__body {
  flex: 1;
  overflow-y: auto;
  padding: 0;
}

/* Drill-down List */
.drilldown-list {
  display: flex;
  flex-direction: column;
}

.drilldown-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  text-decoration: none;
  color: inherit;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  transition: background-color 0.15s ease;
}

.drilldown-item:hover {
  background-color: var(--cds-layer-hover-01);
}

.drilldown-item:last-child {
  border-bottom: none;
}

.drilldown-item__main {
  flex: 1;
  min-width: 0;
}

.drilldown-item__name {
  font-weight: 500;
  font-size: 0.9375rem;
  color: var(--cds-text-primary);
  margin-bottom: 2px;
}

.drilldown-item__details {
  font-size: 0.8125rem;
}

.drilldown-item__status {
  flex-shrink: 0;
}

.drilldown-item__arrow {
  flex-shrink: 0;
  color: var(--cds-text-secondary);
  transition: transform 0.15s ease;
}

.drilldown-item:hover .drilldown-item__arrow {
  transform: translateX(4px);
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ==========================================
   DROP ZONE STYLES
   ========================================== */

.drop-zone {
  position: relative;
  border: 2px dashed var(--cds-border-strong-01);
  border-radius: 8px;
  padding: 24px;
  margin: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  background: var(--cds-layer-02);
  transition: all 0.2s ease;
  cursor: pointer;
}

.drop-zone:hover {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.03);
}

.drop-zone.drag-over {
  border-color: var(--cds-interactive);
  border-style: solid;
  background: rgba(15, 98, 254, 0.08);
  transform: scale(1.01);
}

.drop-zone.processing {
  pointer-events: none;
  opacity: 0.7;
}

.drop-zone.processing::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
}

.drop-zone.success {
  border-color: var(--cds-support-success);
  background: rgba(36, 161, 72, 0.08);
}

.drop-zone.error {
  border-color: var(--cds-support-error);
  background: rgba(218, 30, 40, 0.08);
}

.drop-zone__icon {
  color: var(--cds-text-secondary);
  transition: color 0.2s ease;
}

.drop-zone:hover .drop-zone__icon,
.drop-zone.drag-over .drop-zone__icon {
  color: var(--cds-interactive);
}

.drop-zone__content {
  text-align: center;
  color: var(--cds-text-secondary);
}

.drop-zone__content strong {
  display: block;
  color: var(--cds-text-primary);
  font-size: 0.9375rem;
  margin-bottom: 4px;
}

.drop-zone__content span {
  font-size: 0.8125rem;
}

.drop-zone__hint {
  font-size: 0.75rem;
  color: var(--cds-text-secondary);
  text-align: center;
  min-height: 18px;
}

.drop-zone__hint.warning {
  color: var(--cds-support-warning);
}

.drop-zone__hint.error {
  color: var(--cds-support-error);
}

.drop-zone__hint.success {
  color: var(--cds-support-success);
}

/* Drop Action Modal Styles */
.drop-action-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.drop-action-btn {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  padding: 16px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  background: var(--cds-layer-01);
  cursor: pointer;
  text-align: left;
  transition: all 0.15s ease;
  width: 100%;
}

.drop-action-btn:hover {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.03);
}

.drop-action-btn:focus {
  outline: 2px solid var(--cds-interactive);
  outline-offset: 2px;
}

.drop-action-btn__icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: var(--cds-layer-02);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--cds-interactive);
}

.drop-action-btn__content {
  flex: 1;
}

.drop-action-btn__content strong {
  display: block;
  font-size: 0.9375rem;
  color: var(--cds-text-primary);
  margin-bottom: 4px;
}

.drop-action-btn__content span {
  font-size: 0.8125rem;
  color: var(--cds-text-secondary);
}

/* Drop Preview */
.drop-preview {
  font-size: 0.875rem;
}

.drop-preview__label {
  font-size: 0.75rem;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.drop-preview__value {
  color: var(--cds-text-primary);
  word-break: break-word;
}

.drop-preview__row {
  margin-bottom: 8px;
}

.drop-preview__row:last-child {
  margin-bottom: 0;
}

/* Button Link Style */
.btn-link {
  background: none;
  border: none;
  color: var(--cds-link-primary);
  cursor: pointer;
  font-size: inherit;
  padding: 0;
  text-decoration: underline;
}

.btn-link:hover {
  color: var(--cds-interactive-hover);
}

/* Spinner for processing state */
@keyframes dropZoneSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.drop-zone.processing .drop-zone__icon svg {
  animation: dropZoneSpin 1s linear infinite;
}

/* Toast notification animations */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

/* ==========================================
   ASSESSMENT TARGETS
   ========================================== */

.target-card {
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 12px;
  transition: box-shadow 0.2s ease;
}

.target-card:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.target-card.active {
  border-left: 3px solid var(--cds-interactive);
}

.target-card__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
}

.target-card__name {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 4px;
}

.target-card__date {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.target-card__status {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
}

.target-card__status--achieved {
  background: rgba(36, 161, 72, 0.15);
  color: var(--cds-support-success);
}

.target-card__status--on-track {
  background: rgba(15, 98, 254, 0.15);
  color: var(--cds-interactive);
}

.target-card__status--needs-attention {
  background: rgba(241, 194, 27, 0.2);
  color: #8e6a00;
}

.target-card__status--at-risk {
  background: rgba(218, 30, 40, 0.15);
  color: var(--cds-support-error);
}

.target-card__scores {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
}

.target-score-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--cds-layer-01);
  padding: 4px 10px;
  border-radius: 16px;
  font-size: 12px;
}

.target-score-chip__value {
  font-weight: 600;
  color: var(--cds-interactive);
}

.target-card__actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.target-dimension-scores {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.target-dimension-row {
  display: flex;
  align-items: center;
  gap: 12px;
}

.target-dimension-row__name {
  flex: 1;
  font-size: 13px;
  color: var(--cds-text-secondary);
}

.target-dimension-row__input {
  width: 80px;
}

.target-dimension-row__slider {
  flex: 2;
  -webkit-appearance: none;
  height: 4px;
  border-radius: 2px;
  background: var(--cds-border-subtle-01);
  outline: none;
}

.target-dimension-row__slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--cds-interactive);
  cursor: pointer;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* ==========================================
   EDIT SCORES MODE
   ========================================== */

.edit-scores-table {
  width: 100%;
  border-collapse: collapse;
}

.edit-scores-table th,
.edit-scores-table td {
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.edit-scores-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--cds-text-secondary);
}

.edit-scores-table tbody tr:hover {
  background: var(--cds-layer-hover-01);
}

.edit-score-input {
  width: 60px;
  padding: 6px 10px;
  border: 1px solid var(--cds-border-strong-01);
  border-radius: 4px;
  text-align: center;
  font-size: 14px;
}

.edit-score-input:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.2);
}

.edit-score-input.changed {
  border-color: var(--cds-support-warning);
  background: rgba(241, 194, 27, 0.1);
}

.score-change-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  margin-left: 8px;
}

.score-change-indicator--up {
  color: var(--cds-support-success);
}

.score-change-indicator--down {
  color: var(--cds-support-error);
}

/* ==========================================
   AUDIT TRAIL
   ========================================== */

.audit-trail {
  max-height: 400px;
  overflow-y: auto;
}

.audit-entry {
  display: flex;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.audit-entry:last-child {
  border-bottom: none;
}

.audit-entry__icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--cds-layer-02);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--cds-text-secondary);
}

.audit-entry__content {
  flex: 1;
}

.audit-entry__header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 4px;
}

.audit-entry__user {
  font-weight: 500;
  font-size: 13px;
}

.audit-entry__time {
  font-size: 11px;
  color: var(--cds-text-secondary);
}

.audit-entry__change {
  font-size: 13px;
  color: var(--cds-text-secondary);
  margin-bottom: 4px;
}

.audit-entry__change-values {
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: 13px;
  margin-bottom: 4px;
}

.audit-entry__old-value {
  color: var(--cds-support-error);
  text-decoration: line-through;
}

.audit-entry__new-value {
  color: var(--cds-support-success);
  font-weight: 500;
}

.audit-entry__reason {
  font-size: 12px;
  color: var(--cds-text-secondary);
  font-style: italic;
  background: var(--cds-layer-02);
  padding: 6px 10px;
  border-radius: 4px;
  margin-top: 4px;
}

/* ==========================================
   GAP ANALYSIS
   ========================================== */

.gap-analysis-section {
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid var(--cds-border-subtle-01);
}

.gap-analysis-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.gap-analysis-header__title {
  font-size: 16px;
  font-weight: 600;
}

.gap-analysis-header__target {
  font-size: 13px;
  color: var(--cds-text-secondary);
}

.gap-analysis-table {
  width: 100%;
  border-collapse: collapse;
}

.gap-analysis-table th,
.gap-analysis-table td {
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.gap-analysis-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.gap-value {
  font-weight: 500;
}

.gap-value--positive {
  color: var(--cds-support-error);
}

.gap-value--negative {
  color: var(--cds-support-success);
}

.gap-status {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  text-transform: uppercase;
}

.gap-status--achieved {
  background: rgba(36, 161, 72, 0.15);
  color: var(--cds-support-success);
}

.gap-status--on-track {
  background: rgba(15, 98, 254, 0.15);
  color: var(--cds-interactive);
}

.gap-status--needs-attention {
  background: rgba(241, 194, 27, 0.2);
  color: #8e6a00;
}

.gap-status--at-risk {
  background: rgba(218, 30, 40, 0.15);
  color: var(--cds-support-error);
}

/* Target overlay legend styling in radar chart */
.comparison-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 12px;
}

.comparison-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
}

.comparison-legend-color {
  width: 16px;
  height: 4px;
  border-radius: 2px;
}

.comparison-legend-color--dashed {
  background: transparent !important;
  border-bottom: 2px dashed currentColor;
}

/* ============================================
   FLOW VISUALIZATION (SANKEY) STYLES
   ============================================ */

/* Flow Chart Container */
.flow-chart-container {
  position: relative;
  border-radius: 8px;
  transition: all 0.2s ease;
}

.flow-chart-container:hover {
  background: rgba(15, 98, 254, 0.03);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.15);
}

/* Metric Card styling for flow stats */
#implementationFlowSection .metric-card {
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
}

#implementationFlowSection .metric-card__label {
  font-size: 12px;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

#implementationFlowSection .metric-card__value {
  font-size: 28px;
  font-weight: 600;
  color: var(--cds-text-primary);
}

/* Score status badges for flow tables */
.flow-status-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}

.flow-status-badge--critical {
  background: rgba(218, 30, 40, 0.15);
  color: #da1e28;
}

.flow-status-badge--warning {
  background: rgba(255, 131, 43, 0.15);
  color: #ff832b;
}

.flow-status-badge--below-target {
  background: rgba(241, 194, 27, 0.2);
  color: #8e6a00;
}

.flow-status-badge--required {
  background: rgba(15, 98, 254, 0.15);
  color: #0f62fe;
}

.flow-status-badge--recommended {
  background: rgba(138, 63, 252, 0.15);
  color: #8a3ffc;
}

/* Flow table styling */
#implementationFlowSection .data-table {
  width: 100%;
}

#implementationFlowSection .data-table td {
  padding: 12px 16px;
  vertical-align: middle;
}

/* Solution area chip */
.solution-area-chip {
  display: inline-flex;
  align-items: center;
  padding: 3px 8px;
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  color: var(--cds-text-secondary);
}

/* TP Link button */
.tp-link-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: transparent;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  font-size: 11px;
  color: var(--cds-link-primary);
  cursor: pointer;
  text-decoration: none;
  transition: all 0.15s ease;
}

.tp-link-btn:hover {
  background: var(--cds-layer-hover-01);
  border-color: var(--cds-interactive);
}

/* Required/Recommended badge */
.required-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
}

.required-badge--yes {
  background: rgba(15, 98, 254, 0.15);
  color: #0f62fe;
}

.required-badge--no {
  background: var(--cds-layer-02);
  color: var(--cds-text-secondary);
}

/* ============================================
   MULTI-ASSESSMENT DASHBOARD STYLES
   ============================================ */

/* Maturity Dashboard Header */
.maturity-dashboard {
  background: linear-gradient(135deg, #161616 0%, #262626 100%);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 24px;
}

.maturity-dashboard__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.maturity-dashboard__title {
  color: #ffffff;
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

.maturity-dashboard__overall-score {
  display: flex;
  align-items: baseline;
  gap: 8px;
  color: #ffffff;
}

.maturity-dashboard__score-value {
  font-size: 32px;
  font-weight: 700;
}

.maturity-dashboard__score-max {
  font-size: 16px;
  opacity: 0.7;
}

/* Overall Radar (3-type radar) */
.overall-radar-container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 0;
}

.overall-radar-chart {
  max-width: 280px;
  max-height: 280px;
}

/* Mini Radar Cards Grid */
.mini-radar-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-top: 24px;
}

.mini-radar-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 16px;
  text-align: center;
  transition: all 0.2s ease;
  cursor: pointer;
}

.mini-radar-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.mini-radar-card--empty {
  background: var(--cds-layer-02);
  opacity: 0.7;
}

.mini-radar-card__type-indicator {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 6px;
}

.mini-radar-card__type-indicator--spm {
  background: var(--spm-color);
}

.mini-radar-card__type-indicator--tbm {
  background: var(--tbm-color);
}

.mini-radar-card__type-indicator--finops {
  background: var(--finops-color);
}

.mini-radar-card__header {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin-bottom: 12px;
}

.mini-radar-card__chart {
  max-width: 140px;
  max-height: 140px;
  margin: 0 auto 12px;
}

.mini-radar-card__score {
  font-size: 24px;
  font-weight: 700;
  color: var(--cds-text-primary);
}

.mini-radar-card__score-label {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.mini-radar-card__empty-state {
  padding: 40px 16px;
  color: var(--cds-text-secondary);
  font-size: 14px;
}

.mini-radar-card__action {
  margin-top: 12px;
}

/* Assessment Type Tabs */
.assessment-type-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  margin-bottom: 24px;
}

.assessment-type-tab {
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 500;
  color: var(--cds-text-secondary);
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.assessment-type-tab:hover {
  color: var(--cds-text-primary);
  background: var(--cds-layer-hover-01);
}

.assessment-type-tab--active {
  color: var(--cds-interactive);
  border-bottom-color: var(--cds-interactive);
}

.assessment-type-tab__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.assessment-type-tab__dot--spm {
  background: var(--spm-color);
}

.assessment-type-tab__dot--tbm {
  background: var(--tbm-color);
}

.assessment-type-tab__dot--finops {
  background: var(--finops-color);
}

/* Assessment Type Badge */
.assessment-type-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
}

.assessment-type-badge--spm {
  background: rgba(15, 98, 254, 0.15);
  color: var(--spm-color);
}

.assessment-type-badge--tbm {
  background: rgba(25, 128, 56, 0.15);
  color: var(--tbm-color);
}

.assessment-type-badge--finops {
  background: rgba(138, 63, 252, 0.15);
  color: var(--finops-color);
}

.assessment-type-badge--multi {
  background: rgba(241, 194, 27, 0.15);
  color: #8a6d00;
}

/* Synergy Indicator */
.synergy-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  background: linear-gradient(135deg, rgba(241, 194, 27, 0.2), rgba(241, 194, 27, 0.1));
  border: 1px solid var(--multi-color);
  border-radius: 16px;
  font-size: 11px;
  font-weight: 600;
  color: #8a6d00;
}

.synergy-badge::before {
  content: '\2728'; /* sparkles emoji */
}

/* Cross-Type Insights */
.cross-type-insight {
  display: flex;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 8px;
}

.cross-type-insight--info {
  background: rgba(0, 67, 206, 0.08);
  border-left: 3px solid var(--cds-support-info);
}

.cross-type-insight--warning {
  background: rgba(241, 194, 27, 0.15);
  border-left: 3px solid var(--cds-support-warning);
}

.cross-type-insight--success {
  background: rgba(36, 161, 72, 0.08);
  border-left: 3px solid var(--cds-support-success);
}

.cross-type-insight__icon {
  font-size: 18px;
}

.cross-type-insight__content {
  flex: 1;
}

.cross-type-insight__title {
  font-size: 14px;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin-bottom: 4px;
}

.cross-type-insight__description {
  font-size: 13px;
  color: var(--cds-text-secondary);
  line-height: 1.4;
}

/* Unified Roadmap Timeline */
.unified-roadmap-timeline {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.unified-roadmap-quarter {
  position: relative;
}

.unified-roadmap-quarter__header {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin-bottom: 12px;
  padding-left: 20px;
}

.unified-roadmap-quarter__header::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--cds-border-subtle-01);
}

.unified-roadmap-quarter__dot {
  position: absolute;
  left: -4px;
  top: 4px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--cds-interactive);
  border: 2px solid white;
}

.unified-roadmap-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px;
  margin-left: 20px;
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  margin-bottom: 8px;
}

.unified-roadmap-item:hover {
  border-color: var(--cds-interactive);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.unified-roadmap-item__types {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.unified-roadmap-item__type-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

.unified-roadmap-item__content {
  flex: 1;
}

.unified-roadmap-item__title {
  font-size: 14px;
  font-weight: 500;
  color: var(--cds-text-primary);
  margin-bottom: 4px;
}

.unified-roadmap-item__meta {
  display: flex;
  gap: 12px;
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.unified-roadmap-item__score {
  font-weight: 600;
  color: var(--cds-interactive);
}

/* Dependency Popover */
.dependency-popover {
  position: absolute;
  z-index: 1000;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
  min-width: 280px;
  max-width: 360px;
  border: 1px solid var(--cds-border-subtle-01);
  animation: popoverFadeIn 0.15s ease-out;
}

@keyframes popoverFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dependency-popover__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  background: var(--cds-layer-01);
  border-radius: 8px 8px 0 0;
}

.dependency-popover__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--cds-text-primary);
}

.dependency-popover__close {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: var(--cds-text-secondary);
  font-size: 18px;
  line-height: 1;
  transition: background-color 0.15s, color 0.15s;
}

.dependency-popover__close:hover {
  background: var(--cds-layer-hover-01);
  color: var(--cds-text-primary);
}

.dependency-popover__body {
  padding: 16px;
}

.dependency-popover__items {
  display: flex;
  align-items: center;
  gap: 12px;
}

.dependency-popover__from,
.dependency-popover__to {
  flex: 1;
  min-width: 0;
}

.dependency-popover__label {
  display: block;
  font-size: 10px;
  font-weight: 500;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.dependency-popover__item-name {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: var(--cds-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.dependency-popover__arrow {
  flex-shrink: 0;
  color: #8a3ffc;
}

.dependency-popover__footer {
  padding: 12px 16px;
  border-top: 1px solid var(--cds-border-subtle-01);
  background: var(--cds-layer-01);
  border-radius: 0 0 8px 8px;
}

.dependency-popover__footer .btn {
  width: 100%;
  justify-content: center;
}

/* Dependency line selected state */
.dependency-line--selected path.dependency-path {
  stroke: #da1e28 !important;
  stroke-width: 3 !important;
  opacity: 1 !important;
}

.dependency-line--selected circle {
  opacity: 1 !important;
  fill: #da1e28 !important;
}

/* Highlight connected items when dependency is selected */
.roadmap-item--dependency-selected {
  outline: 2px solid #da1e28 !important;
  outline-offset: 2px;
}

/* Danger button style */
.btn--danger {
  background-color: #da1e28;
  border-color: #da1e28;
  color: white;
}

.btn--danger:hover {
  background-color: #ba1b23;
  border-color: #ba1b23;
}

.btn--danger:focus {
  box-shadow: 0 0 0 2px white, 0 0 0 4px #da1e28;
}

/* Small button variant */
.btn--sm {
  padding: 6px 12px;
  font-size: 12px;
}

/* Responsive for mini-radar grid */
@media (max-width: 992px) {
  .mini-radar-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 576px) {
  .mini-radar-grid {
    grid-template-columns: 1fr;
  }

  .assessment-type-tabs {
    overflow-x: auto;
    flex-wrap: nowrap;
  }

  .assessment-type-tab {
    white-space: nowrap;
  }
}

/* Checkbox Chip Multi-select */
.checkbox-chip {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.checkbox-chip input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.checkbox-chip__label {
  display: inline-flex;
  align-items: center;
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 13px;
  font-weight: 500;
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  color: var(--cds-text-secondary);
  transition: all 0.15s ease;
}

.checkbox-chip input[type="checkbox"]:checked + .checkbox-chip__label {
  background: var(--cds-interactive);
  border-color: var(--cds-interactive);
  color: white;
}

.checkbox-chip:hover .checkbox-chip__label {
  border-color: var(--cds-border-strong);
}

.checkbox-chip input[type="checkbox"]:focus + .checkbox-chip__label {
  outline: 2px solid var(--cds-focus);
  outline-offset: 2px;
}

/* Tool tag display in recommendations list */
.rec-tool-tag {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  background: var(--cds-layer-02);
  color: var(--cds-text-secondary);
}

/* ==================== RECOMMENDATIONS TABLE VIEW ==================== */

/* View Toggle Buttons */
.rec-view-toggle {
  display: inline-flex;
  background: var(--cds-layer-02);
  border-radius: 6px;
  padding: 2px;
}

.view-toggle-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border: none;
  background: transparent;
  color: var(--cds-text-secondary);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.15s ease;
}

.view-toggle-btn:hover {
  background: var(--cds-layer-hover-01);
  color: var(--cds-text-primary);
}

.view-toggle-btn.active {
  background: var(--cds-interactive);
  color: white;
}

.view-toggle-btn svg {
  flex-shrink: 0;
}

/* Bulk Action Bar */
.bulk-action-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--cds-interactive);
  color: white;
  border-radius: 8px;
  margin-bottom: 16px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.bulk-action-bar__info {
  font-size: 14px;
  font-weight: 500;
}

.bulk-action-bar__actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.bulk-action-bar .btn--ghost {
  color: white;
  border-color: rgba(255, 255, 255, 0.3);
}

.bulk-action-bar .btn--ghost:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.5);
}

.bulk-action-bar .btn--primary {
  background: white;
  color: var(--cds-interactive);
}

.bulk-action-bar .btn--primary:hover {
  background: rgba(255, 255, 255, 0.9);
}

/* Recommendations Data Table */
.rec-table-wrapper {
  overflow-x: auto;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
}

.rec-data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.rec-data-table thead {
  background: var(--cds-layer-02);
  position: sticky;
  top: 0;
  z-index: 1;
}

.rec-data-table th {
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  color: var(--cds-text-secondary);
  border-bottom: 1px solid var(--cds-border-subtle-01);
  white-space: nowrap;
  user-select: none;
}

.rec-data-table td {
  padding: 12px 16px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  vertical-align: middle;
}

.rec-data-table tbody tr {
  transition: background-color 0.15s ease;
}

.rec-data-table tbody tr:hover {
  background: var(--cds-layer-hover-01);
}

.rec-data-table tbody tr.selected {
  background: rgba(15, 98, 254, 0.08);
}

.rec-data-table tbody tr.selected:hover {
  background: rgba(15, 98, 254, 0.12);
}

.rec-data-table tbody tr:last-child td {
  border-bottom: none;
}

/* Table Checkbox */
.rec-table-checkbox {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  width: 20px;
  height: 20px;
}

.rec-table-checkbox input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  width: 20px;
  height: 20px;
  cursor: pointer;
  margin: 0;
}

.rec-table-checkbox__mark {
  width: 18px;
  height: 18px;
  border: 2px solid var(--cds-border-strong);
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s ease;
}

.rec-table-checkbox input[type="checkbox"]:checked + .rec-table-checkbox__mark {
  background: var(--cds-interactive);
  border-color: var(--cds-interactive);
}

.rec-table-checkbox input[type="checkbox"]:checked + .rec-table-checkbox__mark::after {
  content: '';
  width: 5px;
  height: 9px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
  margin-top: -2px;
}

.rec-table-checkbox input[type="checkbox"]:focus + .rec-table-checkbox__mark {
  outline: 2px solid var(--cds-focus);
  outline-offset: 1px;
}

.rec-table-checkbox:hover .rec-table-checkbox__mark {
  border-color: var(--cds-interactive);
}

/* Inline Edit Cells */
.rec-table-cell-editable {
  cursor: pointer;
  padding: 4px 8px;
  margin: -4px -8px;
  border-radius: 4px;
  transition: background-color 0.15s ease;
}

.rec-table-cell-editable:hover {
  background: var(--cds-layer-hover-01);
}

.rec-table-cell-editable:focus-within {
  background: var(--cds-layer-02);
  outline: 2px solid var(--cds-focus);
  outline-offset: -2px;
}

/* Inline Select Dropdown */
.rec-inline-select {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid var(--cds-border-strong);
  border-radius: 4px;
  background: var(--cds-field-01);
  color: var(--cds-text-primary);
  font-size: 13px;
  cursor: pointer;
}

.rec-inline-select:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.2);
}

/* Inline Text Input */
.rec-inline-input {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid var(--cds-border-strong);
  border-radius: 4px;
  background: var(--cds-field-01);
  color: var(--cds-text-primary);
  font-size: 13px;
}

.rec-inline-input:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.2);
}

/* Title Cell with Edit Icon */
.rec-title-cell {
  display: flex;
  align-items: center;
  gap: 8px;
}

.rec-title-cell__text {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rec-title-cell__edit-icon {
  flex-shrink: 0;
  opacity: 0;
  color: var(--cds-text-secondary);
  transition: opacity 0.15s ease;
}

.rec-table-cell-editable:hover .rec-title-cell__edit-icon {
  opacity: 1;
}

.rec-title-cell__desc {
  font-size: 11px;
  color: var(--cds-text-secondary);
  margin-top: 4px;
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* Expandable Table Rows */
.rec-row-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--cds-text-secondary);
  transition: transform 0.15s ease, color 0.15s ease;
  flex-shrink: 0;
  border-radius: 4px;
}

.rec-row-toggle:hover {
  color: var(--cds-text-primary);
  background: var(--cds-layer-hover-01, rgba(0,0,0,0.06));
}

.rec-row--expanded .rec-row-toggle {
  transform: rotate(90deg);
}

.rec-row-detail {
  display: none;
}

.rec-row-detail.visible {
  display: table-row;
}

.rec-row-detail td {
  padding: 12px 16px;
  background: var(--cds-layer-02, #f4f4f4);
  border-top: 1px solid var(--cds-border-subtle-01);
}

.rec-row-detail__content {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.rec-row-detail__desc {
  font-size: 13px;
  line-height: 1.5;
  color: var(--cds-text-primary);
  white-space: pre-wrap;
  word-break: break-word;
}

.rec-row-detail__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.rec-row-detail__meta span {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.rec-row-detail__meta-label {
  font-weight: 600;
  color: var(--cds-text-primary);
}

/* Editable description in detail row */
.rec-row-detail__desc--editable {
  cursor: pointer;
  position: relative;
  padding-right: 22px;
  border-radius: 4px;
  transition: background 0.15s;
}

.rec-row-detail__desc--editable:hover {
  background: var(--cds-layer-hover-01, rgba(0, 0, 0, 0.05));
}

.rec-row-detail__edit-icon {
  opacity: 0;
  transition: opacity 0.15s;
  vertical-align: middle;
  margin-left: 4px;
  color: var(--cds-text-secondary);
}

.rec-row-detail__desc--editable:hover .rec-row-detail__edit-icon {
  opacity: 1;
}

.rec-row-detail__edit-textarea {
  width: 100%;
  min-height: 80px;
  padding: 8px;
  font-family: inherit;
  font-size: 13px;
  line-height: 1.5;
  border: 2px solid var(--cds-focus, #0f62fe);
  border-radius: 4px;
  background: var(--cds-field-01, #fff);
  color: var(--cds-text-primary);
  resize: vertical;
  outline: none;
}

/* Editable inline field (impact values) */
.rec-row-detail__editable {
  cursor: pointer;
  border-radius: 3px;
  padding: 1px 4px;
  transition: background 0.15s;
}

.rec-row-detail__editable:hover {
  background: var(--cds-layer-hover-01, rgba(0, 0, 0, 0.05));
}

.rec-row-detail__editable:hover .rec-row-detail__edit-icon {
  opacity: 1;
}

.rec-row-detail__edit-input {
  width: 70px;
  padding: 2px 6px;
  font-family: inherit;
  font-size: 12px;
  border: 2px solid var(--cds-focus, #0f62fe);
  border-radius: 3px;
  background: var(--cds-field-01, #fff);
  color: var(--cds-text-primary);
  outline: none;
}

/* Tools Cell */
.rec-tools-cell {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

.rec-tools-cell .rec-tool-tag {
  font-size: 10px;
  padding: 2px 6px;
}

.rec-tools-edit-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border: 1px dashed var(--cds-border-subtle-01);
  border-radius: 4px;
  background: transparent;
  color: var(--cds-text-secondary);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.rec-tools-edit-btn:hover {
  border-color: var(--cds-interactive);
  color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

/* Priority Badge in Table */
.rec-table-priority {
  display: inline-flex;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
}

.rec-table-priority--high {
  background: var(--cds-support-error);
  color: white;
}

.rec-table-priority--medium {
  background: var(--cds-support-warning);
  color: #161616;
}

.rec-table-priority--low {
  background: var(--cds-support-info);
  color: white;
}

/* Status Badge in Table */
.rec-table-status {
  display: inline-flex;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

.rec-table-status--open {
  background: rgba(15, 98, 254, 0.15);
  color: var(--cds-interactive);
}

.rec-table-status--in_progress {
  background: rgba(241, 194, 27, 0.2);
  color: #8e6a00;
}

.rec-table-status--completed {
  background: rgba(36, 161, 72, 0.15);
  color: #0e6027;
}

.rec-table-status--dismissed {
  background: var(--cds-layer-02);
  color: var(--cds-text-secondary);
}

/* Table Actions */
.rec-table-actions {
  display: flex;
  gap: 4px;
}

.rec-table-actions .btn--ghost {
  padding: 6px;
}

.rec-table-actions .rec-delete-btn {
  color: var(--cds-text-secondary);
  opacity: 0.5;
  transition: opacity 0.15s, color 0.15s;
}

.rec-table-actions .rec-delete-btn:hover {
  opacity: 1;
  color: var(--cds-support-error);
}

/* Bulk Items List in Modal */
.bulk-items-list {
  background: var(--cds-layer-01);
}

.bulk-items-list__item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  border-radius: 4px;
}

.bulk-items-list__item:not(:last-child) {
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.bulk-items-list__item-title {
  flex: 1;
  font-size: 13px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.bulk-items-list__item-badge {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 500;
}

/* Source badge colors */
.rec-source-badge {
  display: inline-flex;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
}

.rec-source-badge--custom {
  background: rgba(138, 63, 252, 0.15);
  color: #8a3ffc;
}

.rec-source-badge--ai {
  background: rgba(15, 98, 254, 0.15);
  color: #0f62fe;
}

/* Category display in table */
.rec-table-category {
  display: inline-flex;
  padding: 2px 8px;
  background: var(--cds-layer-02);
  border-radius: 4px;
  font-size: 11px;
  color: var(--cds-text-secondary);
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Score display */
.rec-table-score {
  font-weight: 600;
  color: var(--cds-text-primary);
}

/* Empty state for table */
.rec-table-empty {
  text-align: center;
  padding: 48px 24px;
  color: var(--cds-text-secondary);
}

.rec-table-empty svg {
  margin-bottom: 12px;
  opacity: 0.5;
}

/* ==================== TABLE SORTING ==================== */

.rec-th-sortable {
  cursor: pointer;
  user-select: none;
  transition: background-color 0.15s ease;
}

.rec-th-sortable:hover {
  background: var(--cds-layer-hover-01);
}

.rec-th-content {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.rec-sort-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  opacity: 0.3;
  transition: opacity 0.15s ease;
}

.rec-th-sortable:hover .rec-sort-icon {
  opacity: 0.6;
}

.rec-sort-icon::after {
  content: '';
  display: block;
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-bottom: 5px solid currentColor;
}

.rec-sort-icon.asc {
  opacity: 1;
}

.rec-sort-icon.asc::after {
  border-bottom: 5px solid currentColor;
  border-top: none;
}

.rec-sort-icon.desc {
  opacity: 1;
}

.rec-sort-icon.desc::after {
  border-top: 5px solid currentColor;
  border-bottom: none;
}

/* ==================== TABLE FILTERING (Excel-style) ==================== */

.rec-table-filter-row {
  background: var(--cds-layer-01);
}

.rec-table-filter-row th {
  padding: 6px 8px;
  border-bottom: 2px solid var(--cds-border-subtle-01);
}

.rec-filter-input {
  width: 100%;
  padding: 5px 8px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  background: var(--cds-field-01);
  color: var(--cds-text-primary);
  font-size: 12px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.rec-filter-input:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.15);
}

.rec-filter-input::placeholder {
  color: var(--cds-text-placeholder);
  font-style: italic;
}

.rec-filter-input:not(:placeholder-shown) {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.rec-filter-select {
  width: 100%;
  padding: 5px 6px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  background: var(--cds-field-01);
  color: var(--cds-text-primary);
  font-size: 12px;
  cursor: pointer;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.rec-filter-select:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 2px rgba(15, 98, 254, 0.15);
}

.rec-filter-select:not([value=""]),
.rec-filter-select option:checked:not([value=""]) {
  border-color: var(--cds-interactive);
}

/* Highlight selects that have a filter value selected */
.rec-filter-select.has-filter {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.rec-filter-clear-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border: none;
  background: transparent;
  color: var(--cds-text-secondary);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.rec-filter-clear-btn:hover {
  background: var(--cds-support-error);
  color: white;
}

/* Active Filters Display */
.rec-active-filters {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 16px;
  background: rgba(15, 98, 254, 0.05);
  border-top: 1px solid var(--cds-border-subtle-01);
  flex-wrap: wrap;
}

.rec-active-filters__label {
  font-size: 12px;
  font-weight: 500;
  color: var(--cds-text-secondary);
}

.rec-active-filters__chips {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  flex: 1;
}

.rec-filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px 4px 10px;
  background: var(--cds-interactive);
  color: white;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}

.rec-filter-chip__remove {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  border: none;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border-radius: 50%;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  font-size: 12px;
  transition: background-color 0.15s ease;
}

.rec-filter-chip__remove:hover {
  background: rgba(255, 255, 255, 0.4);
}

/* Filtered row count indicator */
.rec-filter-count {
  font-size: 12px;
  color: var(--cds-text-secondary);
  padding: 8px 16px;
  border-top: 1px solid var(--cds-border-subtle-01);
  background: var(--cds-layer-01);
}

.rec-filter-count strong {
  color: var(--cds-text-primary);
}

/* ==================== IMPORT/EXPORT TOOLBAR ==================== */

.rec-import-export-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--cds-layer-01);
  border-bottom: 1px solid var(--cds-border-subtle-01);
  flex-wrap: wrap;
  gap: 12px;
}

.rec-import-export-toolbar__left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.rec-import-export-toolbar__label {
  font-size: 12px;
  font-weight: 500;
  color: var(--cds-text-secondary);
}

.rec-import-export-toolbar__right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.rec-template-link {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--cds-interactive);
  text-decoration: none;
}

.rec-template-link:hover {
  text-decoration: underline;
}

/* ==================== IMPORT MODAL ==================== */

.rec-import-status {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background: var(--cds-layer-02);
  border-radius: 8px;
  margin-bottom: 20px;
}

.rec-import-status__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background: var(--cds-interactive);
  color: white;
  border-radius: 50%;
}

.rec-import-status__text {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.rec-import-status__text strong {
  font-size: 14px;
  color: var(--cds-text-primary);
}

.rec-import-status__text span {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.rec-import-preview-wrapper {
  max-height: 250px;
  overflow: auto;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
}

.rec-import-preview-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}

.rec-import-preview-table th,
.rec-import-preview-table td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  white-space: nowrap;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rec-import-preview-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  color: var(--cds-text-secondary);
  position: sticky;
  top: 0;
  z-index: 1;
}

.rec-import-preview-table tbody tr:hover {
  background: var(--cds-layer-hover-01);
}

.rec-import-options {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--cds-border-subtle-01);
}

.rec-import-mode-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.radio-option {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px;
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.radio-option:hover {
  border-color: var(--cds-interactive);
}

.radio-option:has(input:checked) {
  border-color: var(--cds-interactive);
  background: rgba(15, 98, 254, 0.05);
}

.radio-option input[type="radio"] {
  margin-top: 2px;
  accent-color: var(--cds-interactive);
}

.radio-option__label {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.radio-option__label strong {
  font-size: 13px;
  color: var(--cds-text-primary);
}

.radio-option__label .text-secondary {
  font-size: 12px;
  color: var(--cds-text-secondary);
}

.rec-import-errors {
  margin-top: 16px;
  padding: 12px;
  background: rgba(218, 30, 40, 0.1);
  border: 1px solid var(--cds-support-error);
  border-radius: 6px;
}

.rec-import-errors__header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  color: var(--cds-support-error);
  margin-bottom: 8px;
}

.rec-import-errors ul {
  margin: 0;
  padding-left: 24px;
  font-size: 12px;
  color: var(--cds-text-primary);
}

.rec-import-errors li {
  margin-bottom: 4px;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
  .bulk-action-bar {
    flex-direction: column;
    gap: 12px;
    align-items: flex-start;
  }

  .bulk-action-bar__actions {
    width: 100%;
  }
}

@media (max-width: 768px) {
  .rec-view-toggle {
    display: none;
  }
}

/* ==================== REPORT BUILDER ==================== */

.report-builder {
  padding: 16px;
}

.report-presets {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  flex-wrap: wrap;
}

.report-presets__label {
  font-size: 13px;
  font-weight: 500;
  color: var(--cds-text-secondary);
  margin-right: 8px;
}

.report-component-groups {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-bottom: 24px;
}

.report-component-group {
  background: var(--cds-layer-02);
  padding: 16px;
  border-radius: 8px;
  border: 1px solid var(--cds-border-subtle-01);
}

.report-component-group__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--cds-text-primary);
  margin: 0 0 12px 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.report-component-group__options {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* Report Preview Container */
.report-preview {
  background: var(--cds-layer-02);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 8px;
  min-height: 300px;
  max-height: 600px;
  overflow-y: auto;
}

.report-preview__placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  color: var(--cds-text-secondary);
  text-align: center;
  padding: 24px;
}

.report-preview__placeholder p {
  margin: 0;
  font-size: 14px;
}

/* Generated Report Styles */
.generated-report {
  padding: 32px;
  background: white;
  color: #161616;
}

.generated-report__header {
  text-align: center;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 2px solid #161616;
}

.generated-report__logo {
  font-size: 24px;
  font-weight: 700;
  color: #0f62fe;
  margin-bottom: 8px;
}

.generated-report__title {
  font-size: 28px;
  font-weight: 600;
  margin: 0 0 8px 0;
  color: #161616;
}

.generated-report__subtitle {
  font-size: 16px;
  color: #525252;
  margin: 0 0 8px 0;
}

.generated-report__date {
  font-size: 13px;
  color: #6f6f6f;
}

.generated-report__section {
  margin-bottom: 32px;
  page-break-inside: avoid;
}

.generated-report__section-title {
  font-size: 18px;
  font-weight: 600;
  color: #161616;
  margin: 0 0 16px 0;
  padding-bottom: 8px;
  border-bottom: 1px solid #e0e0e0;
}

/* Report Summary Grid */
.report-summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.report-summary-card {
  background: #f4f4f4;
  padding: 16px;
  border-radius: 8px;
  text-align: center;
}

.report-summary-card__value {
  font-size: 28px;
  font-weight: 600;
  color: #161616;
  margin-bottom: 4px;
}

.report-summary-card__label {
  font-size: 12px;
  color: #525252;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Report Score Display */
.report-score-display {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-bottom: 24px;
}

.report-score-circle {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  font-weight: 700;
  color: white;
  flex-shrink: 0;
}

.report-score-circle--green { background: #24a148; }
.report-score-circle--yellow { background: #f1c21b; color: #161616; }
.report-score-circle--red { background: #da1e28; }

.report-score-details {
  flex: 1;
}

/* Report Dimension Scores */
.report-dimension-scores {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.report-dimension-score {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #f4f4f4;
  border-radius: 6px;
}

.report-dimension-score__name {
  flex: 1;
  font-size: 13px;
  color: #161616;
}

.report-dimension-score__value {
  font-size: 14px;
  font-weight: 600;
  color: #161616;
}

.report-dimension-score__bar {
  width: 60px;
  height: 6px;
  background: #e0e0e0;
  border-radius: 3px;
  overflow: hidden;
}

.report-dimension-score__fill {
  height: 100%;
  border-radius: 3px;
}

/* Report Recommendation List */
.report-recommendation-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.report-recommendation-item {
  padding: 16px;
  background: #f4f4f4;
  border-radius: 8px;
  margin-bottom: 12px;
  border-left: 4px solid #0f62fe;
}

.report-recommendation-item__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
}

.report-recommendation-item__title {
  font-size: 15px;
  font-weight: 600;
  color: #161616;
  margin: 0;
}

.report-recommendation-item__priority {
  font-size: 12px;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: 4px;
  background: #0f62fe;
  color: white;
}

.report-recommendation-item__meta {
  display: flex;
  gap: 16px;
  font-size: 12px;
  color: #525252;
  margin-bottom: 8px;
}

.report-recommendation-item__description {
  font-size: 14px;
  color: #525252;
  margin: 0;
}

/* Report Risk List */
.report-risk-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.report-risk-item {
  padding: 12px 16px;
  background: #f4f4f4;
  border-radius: 6px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.report-risk-item__severity {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

.report-risk-item__severity--high { background: #da1e28; }
.report-risk-item__severity--medium { background: #f1c21b; }
.report-risk-item__severity--low { background: #24a148; }

.report-risk-item__content {
  flex: 1;
}

.report-risk-item__title {
  font-size: 14px;
  font-weight: 500;
  color: #161616;
  margin: 0 0 4px 0;
}

.report-risk-item__description {
  font-size: 12px;
  color: #525252;
  margin: 0;
}

/* Report Chart Container */
.report-chart-container {
  background: white;
  padding: 16px;
  border-radius: 8px;
  margin-bottom: 16px;
}

.report-radar-chart {
  max-width: 400px;
  margin: 0 auto;
}

/* Report Table */
.report-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.report-table th,
.report-table td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #e0e0e0;
}

.report-table th {
  background: #f4f4f4;
  font-weight: 600;
  color: #161616;
}

.report-table tr:last-child td {
  border-bottom: none;
}

/* Report Gap Analysis */
.report-gap-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px;
  background: #f4f4f4;
  border-radius: 6px;
  margin-bottom: 8px;
}

.report-gap-item__label {
  flex: 1;
  font-size: 13px;
  color: #161616;
}

.report-gap-item__scores {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
}

.report-gap-item__current {
  font-weight: 600;
  color: #da1e28;
}

.report-gap-item__arrow {
  color: #6f6f6f;
}

.report-gap-item__target {
  font-weight: 600;
  color: #24a148;
}

/* Print Styles */
@media print {
  .no-print,
  .report-builder,
  .card__header,
  .tabs,
  .customer-header,
  nav,
  header,
  footer {
    display: none !important;
  }

  .report-preview {
    border: none;
    background: white;
    max-height: none;
    overflow: visible;
  }

  .generated-report {
    padding: 0;
  }

  .generated-report__section {
    page-break-inside: avoid;
  }

  .generated-report__header {
    page-break-after: avoid;
  }

  .report-recommendation-item,
  .report-risk-item,
  .report-dimension-score,
  .report-gap-item {
    break-inside: avoid;
  }

  @page {
    margin: 1in;
    size: letter;
  }

  body {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }
}

/* ==================== ROADMAP DRAG ENHANCEMENTS ==================== */

/* Vertical reorder insertion indicator */
.roadmap-insertion-indicator {
  position: absolute;
  left: 150px;
  right: 0;
  height: 3px;
  background: #8a3ffc;
  border-radius: 2px;
  z-index: 50;
  box-shadow: 0 0 8px rgba(138, 63, 252, 0.5);
  pointer-events: none;
  transition: top 0.1s ease;
}

.roadmap-insertion-indicator::before,
.roadmap-insertion-indicator::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  background: #8a3ffc;
  border-radius: 50%;
  top: -2.5px;
}

.roadmap-insertion-indicator::before {
  left: -4px;
}

.roadmap-insertion-indicator::after {
  right: -4px;
}

/* Sub-quarter position offset on cards */
.roadmap-item[data-sub-quarter="early"] {
  margin-left: 0 !important;
}

.roadmap-item[data-sub-quarter="mid"] {
  margin-left: 8% !important;
  width: calc(100% - 8%) !important;
}

.roadmap-item[data-sub-quarter="late"] {
  margin-left: 16% !important;
  width: calc(100% - 16%) !important;
}

/* Sub-quarter position preview during drag */
.sub-quarter-zone {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 33.33%;
  border: 2px dashed transparent;
  background: transparent;
  pointer-events: none;
  transition: all 0.15s ease;
  z-index: 40;
}

.sub-quarter-zone.early { left: 0; }
.sub-quarter-zone.mid { left: 33.33%; }
.sub-quarter-zone.late { left: 66.66%; }

.sub-quarter-zone.active {
  border-color: rgba(138, 63, 252, 0.6);
  background: rgba(138, 63, 252, 0.1);
}

/* Minimum width for roadmap items to ensure they are interactable */
.roadmap-item {
  min-width: 60px;
}

/* Dragging state for roadmap items */
.roadmap-item.dragging {
  opacity: 0.8;
  cursor: grabbing !important;
  z-index: 100;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Resize handles on roadmap items - visible on hover */
.roadmap-resize-handle {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 12px;
  cursor: ew-resize;
  background: transparent;
  z-index: 15;
  transition: background 0.15s ease;
}

.roadmap-resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 24px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 2px;
  opacity: 0;
  transition: opacity 0.15s ease;
}

.roadmap-resize-left {
  left: 0;
  border-radius: 6px 0 0 6px;
}

.roadmap-resize-left::before {
  left: 4px;
}

.roadmap-resize-right {
  right: 0;
  border-radius: 0 6px 6px 0;
}

.roadmap-resize-right::before {
  right: 4px;
}

.roadmap-item:hover .roadmap-resize-handle::before {
  opacity: 1;
}

.roadmap-resize-handle:hover {
  background: rgba(255, 255, 255, 0.2);
}

.roadmap-resize-handle:hover::before {
  background: rgba(255, 255, 255, 0.9);
  height: 32px;
}

.roadmap-resize-handle:active {
  background: rgba(138, 63, 252, 0.3);
}

.roadmap-resize-handle:active::before {
  background: white;
}

/* Anchor points on roadmap items - visible on hover */
.roadmap-item .roadmap-anchor {
  position: absolute;
  width: 10px;
  height: 10px;
  background: white;
  border: 2px solid #8a3ffc;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.15s ease, transform 0.15s ease, background 0.15s ease;
  z-index: 20;
  cursor: crosshair;
  pointer-events: auto;
}

.roadmap-item:hover .roadmap-anchor {
  opacity: 1;
}

.roadmap-item .roadmap-anchor:hover {
  transform: scale(1.3);
  background: #8a3ffc;
  border-color: white;
}

.roadmap-item .roadmap-anchor--top {
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
}

.roadmap-item:hover .roadmap-anchor--top {
  transform: translateX(-50%);
}

.roadmap-item .roadmap-anchor--top:hover {
  transform: translateX(-50%) scale(1.3);
}

.roadmap-item .roadmap-anchor--bottom {
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
}

.roadmap-item:hover .roadmap-anchor--bottom {
  transform: translateX(-50%);
}

.roadmap-item .roadmap-anchor--bottom:hover {
  transform: translateX(-50%) scale(1.3);
}

.roadmap-item .roadmap-anchor--left {
  left: -5px;
  top: 50%;
  transform: translateY(-50%);
}

.roadmap-item:hover .roadmap-anchor--left {
  transform: translateY(-50%);
}

.roadmap-item .roadmap-anchor--left:hover {
  transform: translateY(-50%) scale(1.3);
}

.roadmap-item .roadmap-anchor--right {
  right: -5px;
  top: 50%;
  transform: translateY(-50%);
}

.roadmap-item:hover .roadmap-anchor--right {
  transform: translateY(-50%);
}

.roadmap-item .roadmap-anchor--right:hover {
  transform: translateY(-50%) scale(1.3);
}

/* Active anchor when dragging dependency */
.roadmap-anchor.anchor-active {
  opacity: 1;
  background: #8a3ffc;
  border-color: white;
  box-shadow: 0 0 8px rgba(138, 63, 252, 0.6);
}

.roadmap-item.drag-preview {
  transition: margin-left 0.15s ease, width 0.15s ease;
}

/* Category row during drag */
.roadmap-category-row.drag-target {
  background: rgba(138, 63, 252, 0.05);
  border-radius: 4px;
}

/* Responsive adjustments for report builder */
@media (max-width: 768px) {
  .report-component-groups {
    grid-template-columns: 1fr;
  }

  .report-presets {
    flex-direction: column;
    align-items: flex-start;
  }

  .generated-report {
    padding: 16px;
  }

  .report-summary-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .report-score-display {
    flex-direction: column;
    text-align: center;
  }
}

/* ================================================================
   Assessment Builder Styles
   ================================================================ */

/* Builder Toolbar */
.builder-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--cds-spacing-04);
  padding: var(--cds-spacing-05);
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  margin-bottom: var(--cds-spacing-05);
}

.builder-toolbar__frameworks {
  display: flex;
  gap: var(--cds-spacing-02);
}

.builder-toolbar__frameworks .btn {
  position: relative;
}

.builder-toolbar__frameworks .btn.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 3px;
  border-radius: 2px 2px 0 0;
}

.builder-toolbar__frameworks .btn[data-type="spm"].active {
  background: rgba(15, 98, 254, 0.1);
  color: var(--spm-color);
  border-color: var(--spm-color);
}
.builder-toolbar__frameworks .btn[data-type="spm"].active::after { background: var(--spm-color); }

.builder-toolbar__frameworks .btn[data-type="tbm"].active {
  background: rgba(25, 128, 56, 0.1);
  color: var(--tbm-color);
  border-color: var(--tbm-color);
}
.builder-toolbar__frameworks .btn[data-type="tbm"].active::after { background: var(--tbm-color); }

.builder-toolbar__frameworks .btn[data-type="finops"].active {
  background: rgba(138, 63, 252, 0.1);
  color: var(--finops-color);
  border-color: var(--finops-color);
}
.builder-toolbar__frameworks .btn[data-type="finops"].active::after { background: var(--finops-color); }

.builder-toolbar__version {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
}

.builder-toolbar__version select {
  padding: 6px 12px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
  background: var(--cds-layer-01);
}

.builder-toolbar__actions {
  display: flex;
  gap: var(--cds-spacing-03);
}

/* Status Tags */
.builder-status-tag {
  display: inline-flex;
  align-items: center;
  padding: 2px 10px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.builder-status-tag--draft {
  background: rgba(241, 194, 27, 0.15);
  color: #8a6d00;
  border: 1px solid rgba(241, 194, 27, 0.4);
}

.builder-status-tag--active {
  background: rgba(36, 161, 72, 0.15);
  color: #0e6027;
  border: 1px solid rgba(36, 161, 72, 0.4);
}

.builder-status-tag--archived {
  background: rgba(141, 141, 141, 0.15);
  color: #525252;
  border: 1px solid rgba(141, 141, 141, 0.4);
}

/* Save Status Indicator */
.builder-save-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
  color: var(--cds-text-helper);
}

.builder-save-status__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--cds-support-success);
}

.builder-save-status--saving .builder-save-status__dot {
  background: var(--cds-support-warning);
  animation: builder-pulse 1s infinite;
}

.builder-save-status--error .builder-save-status__dot {
  background: var(--cds-support-error);
}

@keyframes builder-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* Template Metadata */
.builder-meta {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: var(--cds-spacing-04);
  padding: var(--cds-spacing-05);
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  margin-bottom: var(--cds-spacing-05);
}

.builder-meta__field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.builder-meta__field label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Editable Fields */
.builder-editable-field {
  padding: 4px 8px;
  border: 1px solid transparent;
  border-radius: 4px;
  cursor: pointer;
  transition: border-color 0.15s, background-color 0.15s;
  min-height: 28px;
}

.builder-editable-field:hover {
  border-color: var(--cds-border-subtle-01);
  background: var(--cds-layer-02);
}

.builder-editable-field:focus-within {
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 1px var(--cds-interactive);
}

.builder-editable-field[data-readonly="true"] {
  cursor: default;
}

.builder-editable-field[data-readonly="true"]:hover {
  border-color: transparent;
  background: transparent;
}

/* Dimension Tabs */
.builder-dimension-tabs {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-02);
  padding: var(--cds-spacing-03) var(--cds-spacing-05);
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-bottom: none;
  border-radius: 4px 4px 0 0;
  overflow-x: auto;
}

.builder-dimension-tab {
  padding: 6px 16px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  background: transparent;
  cursor: pointer;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
  color: var(--cds-text-secondary);
  white-space: nowrap;
  transition: all 0.15s;
}

.builder-dimension-tab:hover {
  background: var(--cds-background-hover);
}

.builder-dimension-tab.active {
  background: var(--cds-interactive);
  color: var(--cds-text-on-color);
  border-color: var(--cds-interactive);
}

.builder-dimension-tab--add {
  border-style: dashed;
  color: var(--cds-interactive);
}

.builder-dimension-tab--add:hover {
  background: rgba(15, 98, 254, 0.08);
}

/* Builder Question Table */
.builder-table-wrapper {
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 0 0 4px 4px;
  overflow-x: auto;
}

.builder-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.builder-table th {
  background: var(--cds-layer-02);
  padding: 8px 12px;
  text-align: left;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 2px solid var(--cds-border-subtle-01);
  position: sticky;
  top: 0;
  z-index: 5;
}

.builder-table td {
  padding: 6px 12px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  vertical-align: top;
  font-size: var(--cds-body-01-font-size);
}

.builder-table tr:hover {
  background: var(--cds-background-hover);
}

/* Column widths */
.builder-table .col-drag { width: 36px; }
.builder-table .col-number { width: 60px; }
.builder-table .col-question { width: 30%; }
.builder-table .col-labels { width: 15%; }
.builder-table .col-descriptions { width: 15%; }
.builder-table .col-evidence { width: 15%; }
.builder-table .col-required { width: 60px; text-align: center; }
.builder-table .col-actions { width: 60px; text-align: center; }

/* Editable Table Cells */
.builder-editable-cell {
  position: relative;
  cursor: pointer;
  min-height: 32px;
  padding: 4px;
  border-radius: 3px;
  transition: background-color 0.15s;
}

.builder-editable-cell:hover {
  background: rgba(15, 98, 254, 0.06);
}

.builder-editable-cell[data-readonly="true"] {
  cursor: default;
}

.builder-editable-cell[data-readonly="true"]:hover {
  background: transparent;
}

.builder-cell-text {
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}

.builder-cell-text--multiline {
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.builder-cell-edit-icon {
  display: none;
  position: absolute;
  right: 4px;
  top: 50%;
  transform: translateY(-50%);
  width: 14px;
  height: 14px;
  fill: var(--cds-text-placeholder);
}

.builder-editable-cell:hover .builder-cell-edit-icon {
  display: block;
}

.builder-editable-cell[data-readonly="true"]:hover .builder-cell-edit-icon {
  display: none;
}

/* Inline Input */
.builder-inline-input,
.builder-inline-textarea {
  width: 100%;
  padding: 4px 8px;
  border: 1px solid var(--cds-interactive);
  border-radius: 3px;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
  background: var(--cds-layer-01);
  box-shadow: 0 0 0 1px var(--cds-interactive);
  outline: none;
}

.builder-inline-textarea {
  min-height: 60px;
  resize: vertical;
}

/* Score Summary in Table */
.builder-score-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 3px;
}

.builder-score-preview {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 3px;
  font-size: 0.7rem;
  font-weight: 600;
  background: rgba(15, 98, 254, 0.1);
  color: var(--cds-interactive);
  cursor: pointer;
}

.builder-score-preview:hover {
  background: rgba(15, 98, 254, 0.2);
}

.builder-score-preview--empty {
  background: rgba(141, 141, 141, 0.1);
  color: var(--cds-text-placeholder);
  border: 1px dashed var(--cds-border-subtle-01);
}

.builder-score-preview--filled {
  background: rgba(36, 161, 72, 0.1);
  color: var(--cds-support-success);
}

/* Drag Handle */
.builder-drag-handle {
  cursor: grab;
  padding: 4px;
  color: var(--cds-text-placeholder);
  display: flex;
  align-items: center;
  justify-content: center;
}

.builder-drag-handle:active {
  cursor: grabbing;
}

.builder-drag-handle svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

.builder-table tr.builder-dragging {
  opacity: 0.5;
  background: rgba(15, 98, 254, 0.05);
}

.builder-table tr.builder-drag-over {
  border-top: 2px solid var(--cds-interactive);
}

/* Builder Modals */
.builder-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.builder-modal {
  background: var(--cds-layer-01);
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  width: 90%;
  max-width: 700px;
  max-height: 85vh;
  overflow-y: auto;
}

.builder-modal--wide {
  max-width: 900px;
}

.builder-modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--cds-spacing-05);
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.builder-modal__header h3 {
  font-size: var(--cds-heading-03-font-size);
  font-weight: 600;
}

.builder-modal__close {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: var(--cds-text-secondary);
  font-size: 1.2rem;
}

.builder-modal__body {
  padding: var(--cds-spacing-05);
}

.builder-modal__footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--cds-spacing-03);
  padding: var(--cds-spacing-05);
  border-top: 1px solid var(--cds-border-subtle-01);
}

/* Score Detail Table in Modal */
.builder-score-table {
  width: 100%;
  border-collapse: collapse;
}

.builder-score-table th,
.builder-score-table td {
  padding: 8px 12px;
  border: 1px solid var(--cds-border-subtle-01);
  text-align: left;
  font-size: var(--cds-body-01-font-size);
}

.builder-score-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
}

.builder-score-table input,
.builder-score-table textarea {
  width: 100%;
  padding: 4px 8px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 3px;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
}

.builder-score-table textarea {
  min-height: 48px;
  resize: vertical;
}

/* Audit Trail Table */
.builder-audit-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.builder-audit-table th,
.builder-audit-table td {
  padding: 6px 10px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  text-align: left;
}

.builder-audit-table th {
  background: var(--cds-layer-02);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.7rem;
  letter-spacing: 0.5px;
}

.builder-audit-table .audit-old-value {
  color: var(--cds-support-error);
  text-decoration: line-through;
}

.builder-audit-table .audit-new-value {
  color: var(--cds-support-success);
}

/* Form fields inside builder */
.builder-form-group {
  margin-bottom: var(--cds-spacing-05);
}

.builder-form-group label {
  display: block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--cds-text-secondary);
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.builder-form-group input,
.builder-form-group textarea,
.builder-form-group select {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
}

.builder-form-group input:focus,
.builder-form-group textarea:focus,
.builder-form-group select:focus {
  outline: none;
  border-color: var(--cds-interactive);
  box-shadow: 0 0 0 1px var(--cds-interactive);
}

.builder-form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--cds-spacing-04);
}

/* Empty state for builder */
.builder-empty-state {
  text-align: center;
  padding: var(--cds-spacing-09) var(--cds-spacing-05);
  color: var(--cds-text-secondary);
}

.builder-empty-state svg {
  width: 48px;
  height: 48px;
  fill: var(--cds-text-placeholder);
  margin-bottom: var(--cds-spacing-04);
}

.builder-empty-state h3 {
  margin-bottom: var(--cds-spacing-03);
}

/* Required checkbox styling */
.builder-checkbox-cell {
  display: flex;
  align-items: center;
  justify-content: center;
}

.builder-checkbox-cell input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--cds-interactive);
}

/*  Builder Card Layout  */

.builder-cards {
  display: flex;
  flex-direction: column;
  gap: var(--cds-spacing-03);
  padding: var(--cds-spacing-04) 0;
}

.builder-card {
  background: var(--cds-layer-01);
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 6px;
  transition: box-shadow 0.15s, border-color 0.15s;
}

.builder-card:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.builder-card--expanded {
  border-color: var(--cds-border-strong-01, var(--cds-border-subtle-01));
}

.builder-card__header {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  padding: 10px 16px;
  cursor: pointer;
  user-select: none;
}

.builder-card__drag {
  cursor: grab;
  color: var(--cds-text-placeholder);
  flex-shrink: 0;
  padding: 2px;
  display: flex;
  align-items: center;
}

.builder-card__drag:active {
  cursor: grabbing;
}

.builder-card__drag svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

.builder-card__number {
  font-weight: 600;
  font-size: 0.85rem;
  color: var(--cds-text-secondary);
  flex-shrink: 0;
  min-width: 32px;
  cursor: text;
  padding: 2px 4px;
  border-radius: 3px;
}

.builder-card__number:hover {
  background: rgba(15, 98, 254, 0.06);
}

.builder-card__text {
  flex: 1;
  font-size: var(--cds-body-01-font-size);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  cursor: text;
  padding: 2px 4px;
  border-radius: 3px;
}

.builder-card__text:hover {
  background: rgba(15, 98, 254, 0.06);
}

.builder-card--expanded .builder-card__text {
  white-space: normal;
}

.builder-card__toggle {
  flex-shrink: 0;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: var(--cds-text-secondary);
  display: flex;
  align-items: center;
  transition: transform 0.2s;
}

.builder-card--expanded .builder-card__toggle {
  transform: rotate(180deg);
}

.builder-card__meta {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  padding: 0 16px 8px 52px;
  font-size: 0.75rem;
  color: var(--cds-text-helper);
}

.builder-card__badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 1px 8px;
  border-radius: 10px;
  font-size: 0.7rem;
  font-weight: 500;
}

.builder-card__badge--required {
  background: rgba(15, 98, 254, 0.08);
  color: var(--cds-interactive);
}

.builder-card__badge--complete {
  background: rgba(36, 161, 72, 0.1);
  color: var(--cds-support-success);
}

.builder-card__badge--incomplete {
  background: rgba(241, 194, 27, 0.12);
  color: #8a6d00;
}

.builder-card__body {
  border-top: 1px solid var(--cds-border-subtle-01);
  padding: 12px 16px;
  display: none;
}

.builder-card--expanded .builder-card__body {
  display: block;
}

.builder-card__footer {
  justify-content: flex-end;
  padding: 8px 16px;
  border-top: 1px solid var(--cds-border-subtle-01);
  display: none;
}

.builder-card--expanded .builder-card__footer {
  display: flex;
}

/*  Inline Rubric Table  */

.builder-rubric-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--cds-body-01-font-size);
}

.builder-rubric-table th {
  background: var(--cds-layer-02);
  padding: 6px 10px;
  text-align: left;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.4px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
}

.builder-rubric-table td {
  padding: 6px 10px;
  border-bottom: 1px solid var(--cds-border-subtle-01);
  vertical-align: top;
}

.builder-rubric-table tr:last-child td {
  border-bottom: none;
}

.builder-rubric-table .rubric-score-num {
  text-align: center;
  font-weight: 600;
  color: var(--cds-text-secondary);
  width: 50px;
}

.builder-rubric-cell {
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 3px;
  min-height: 24px;
  transition: background-color 0.15s;
}

.builder-rubric-cell:hover {
  background: rgba(15, 98, 254, 0.06);
}

.builder-rubric-cell--empty {
  color: var(--cds-text-placeholder);
  font-style: italic;
  font-size: 0.8rem;
}

/*  Active Edit Warning Banner  */

.builder-active-warning {
  display: flex;
  align-items: center;
  gap: var(--cds-spacing-03);
  padding: 10px 16px;
  background: rgba(241, 194, 27, 0.12);
  border: 1px solid rgba(241, 194, 27, 0.4);
  border-radius: 4px;
  color: #6e5600;
  font-size: 0.85rem;
  margin-bottom: var(--cds-spacing-04);
}

.builder-active-warning svg {
  flex-shrink: 0;
  width: 18px;
  height: 18px;
  fill: #8a6d00;
}

/*  Card Drag States  */

.builder-card.builder-dragging {
  opacity: 0.5;
  border-color: var(--cds-interactive);
}

.builder-card.builder-drag-over {
  border-top: 3px solid var(--cds-interactive);
}

/*  New Draft Modal Additions  */

.builder-version-list {
  margin-top: var(--cds-spacing-03);
}

.builder-version-list label {
  display: block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--cds-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.builder-version-list select {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--cds-border-subtle-01);
  border-radius: 4px;
  font-family: inherit;
  font-size: var(--cds-body-01-font-size);
  background: var(--cds-layer-01);
}
