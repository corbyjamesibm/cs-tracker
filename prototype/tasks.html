<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasks - Customer Status Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .task-card {
      background: var(--cds-layer-01);
      border: 1px solid var(--cds-border-subtle-01);
      padding: var(--cds-spacing-05);
      margin-bottom: var(--cds-spacing-03);
      display: flex;
      gap: var(--cds-spacing-04);
      transition: box-shadow 0.15s;
      cursor: pointer;
    }
    .task-card:hover {
      box-shadow: var(--cds-shadow);
    }
    .task-card__checkbox {
      width: 24px;
      height: 24px;
      border: 2px solid var(--cds-border-strong-01);
      border-radius: 50%;
      flex-shrink: 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.15s;
    }
    .task-card__checkbox:hover {
      background: var(--cds-background-hover);
    }
    .task-card__checkbox.completed {
      background: var(--cds-support-success);
      border-color: var(--cds-support-success);
      color: white;
    }
    .task-card__content {
      flex: 1;
      min-width: 0;
    }
    .task-card__title {
      font-weight: 500;
      margin-bottom: var(--cds-spacing-02);
    }
    .task-card__meta {
      display: flex;
      gap: var(--cds-spacing-04);
      font-size: 0.75rem;
      color: var(--cds-text-secondary);
      flex-wrap: wrap;
    }
    .task-card__meta-item {
      display: flex;
      align-items: center;
      gap: var(--cds-spacing-02);
    }
    .task-card--overdue {
      border-left: 3px solid var(--cds-support-error);
    }
    .task-card--due-today {
      border-left: 3px solid var(--cds-support-warning);
    }
    .task-group {
      margin-bottom: var(--cds-spacing-06);
    }
    .task-group__header {
      display: flex;
      align-items: center;
      gap: var(--cds-spacing-03);
      margin-bottom: var(--cds-spacing-04);
      padding-bottom: var(--cds-spacing-03);
      border-bottom: 1px solid var(--cds-border-subtle-01);
    }
    .task-group__title {
      font-size: 1rem;
      font-weight: 600;
    }
    .task-group__count {
      background: var(--cds-background-hover);
      padding: 2px 8px;
      border-radius: 9999px;
      font-size: 0.75rem;
    }
    .priority-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .priority-indicator--urgent {
      background: var(--cds-support-error);
    }
    .priority-indicator--high {
      background: #fa4d56;
    }
    .priority-indicator--medium {
      background: var(--cds-support-warning);
    }
    .priority-indicator--low {
      background: var(--cds-support-success);
    }
    @media (max-width: 768px) {
      .task-card__meta {
        flex-direction: column;
        gap: var(--cds-spacing-02);
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Side Navigation -->
    <nav class="side-nav" id="sideNav">
      <div class="side-nav__header">
        <div class="side-nav__logo">CS</div>
        <span class="side-nav__title">CS Tracker</span>
      </div>
      <ul class="side-nav__items">
        <li class="side-nav__item">
          <a href="index.html" class="side-nav__link">
            <svg viewBox="0 0 32 32"><path d="M16 2L2 12v18h10V18h8v12h10V12L16 2zm12 26h-6V16H10v12H4V13.21l12-9 12 9V28z"/></svg>
            <span>Dashboard</span>
          </a>
        </li>
        <li class="side-nav__item">
          <a href="customers.html" class="side-nav__link">
            <svg viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2zM12 6h8v4h-8V6zm16 20H4V12h24v14z"/></svg>
            <span>Customers</span>
          </a>
        </li>
        <li class="side-nav__item">
          <a href="tasks.html" class="side-nav__link active">
            <svg viewBox="0 0 32 32"><path d="M14 21.5l-5-4.96L7.59 18 14 24.35 25.41 13 24 11.59 14 21.5z"/><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/></svg>
            <span>Tasks</span>
          </a>
        </li>
        <li class="side-nav__divider"></li>
        <li class="side-nav__item">
          <a href="reports.html" class="side-nav__link">
            <svg viewBox="0 0 32 32"><path d="M10 18H6v8h4v-8zm12-8h-4v16h4V10zm-6 6h-4v10h4V16z"/></svg>
            <span>Reports</span>
          </a>
        </li>
        <li class="side-nav__item">
          <a href="admin.html" class="side-nav__link">
            <svg viewBox="0 0 32 32"><path d="M27 16.76V16v-.77l1.92-1.68a2 2 0 00.4-2.4l-2-3.46a2 2 0 00-1.94-1 2 2 0 00-.64.1l-2.43.82a11.35 11.35 0 00-1.31-.75l-.51-2.52a2 2 0 00-2-1.61h-4a2 2 0 00-2 1.61l-.51 2.52a11.48 11.48 0 00-1.32.75l-2.38-.86a2 2 0 00-.68-.09 2 2 0 00-1.72 1l-2 3.46a2 2 0 00.4 2.4l1.92 1.68V16v.77l-1.92 1.68a2 2 0 00-.4 2.4l2 3.46a2 2 0 00 1.72 1 2 2 0 00.68-.09l2.42-.82a11.35 11.35 0 001.31.75l.51 2.52a2 2 0 002 1.61h4a2 2 0 002-1.61l.51-2.52a11.48 11.48 0 001.32-.75l2.42.82a2 2 0 00.64.09 2 2 0 001.72-1l2-3.46a2 2 0 00-.4-2.4zM16 22a6 6 0 116-6 6 6 0 01-6 6z"/></svg>
            <span>Admin</span>
          </a>
        </li>
      </ul>
      <button class="side-nav__toggle" id="navToggleBtn" title="Collapse menu">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="11 17 6 12 11 7"></polyline>
          <polyline points="18 17 13 12 18 7"></polyline>
        </svg>
        <span class="side-nav__toggle-text">Collapse</span>
      </button>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <div class="header__left">
          <button class="hamburger" onclick="toggleNav()">
            <span></span>
            <span></span>
            <span></span>
          </button>
          <div>
            <h1 class="header__title">My Tasks</h1>
            <p class="header__subtitle">12 open tasks</p>
          </div>
        </div>
        <div class="header__right">
          <div class="search">
            <svg class="search__icon" width="16" height="16" viewBox="0 0 32 32"><path d="M29 27.59l-7.55-7.55A11 11 0 1020 21.46L27.59 29zM4 13a9 9 0 119 9 9 9 0 01-9-9z"/></svg>
            <input type="text" class="search__input" placeholder="Search tasks...">
          </div>
          <button class="btn btn--primary" onclick="openNewTaskModal()">
            <svg width="16" height="16" viewBox="0 0 32 32" fill="currentColor"><path d="M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z"/></svg>
            New Task
          </button>
          <div class="user-menu">
            <div class="avatar">SJ</div>
            <span class="user-menu__name">Sarah Johnson</span>
          </div>
        </div>
      </header>

      <!-- Page Content -->
      <div class="page-content">
        <!-- View Tabs -->
        <nav class="tabs">
          <ul class="tabs__list">
            <li><a href="#" class="tabs__tab active">My Tasks</a></li>
            <li><a href="#" class="tabs__tab">All Tasks</a></li>
            <li><a href="#" class="tabs__tab">By Customer</a></li>
            <li><a href="#" class="tabs__tab">Calendar</a></li>
          </ul>
        </nav>

        <!-- Filters -->
        <div class="card mb-5">
          <div class="flex gap-4 flex-center" style="flex-wrap: wrap;">
            <div>
              <label class="form-label">Status</label>
              <select class="form-select" style="width: 130px;">
                <option value="open" selected>Open</option>
                <option value="completed">Completed</option>
                <option value="all">All</option>
              </select>
            </div>
            <div>
              <label class="form-label">Priority</label>
              <select class="form-select" style="width: 130px;">
                <option value="all">All</option>
                <option value="urgent">Urgent</option>
                <option value="high">High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
              </select>
            </div>
            <div>
              <label class="form-label">Customer</label>
              <select class="form-select" style="width: 180px;">
                <option value="all">All Customers</option>
                <option value="acme">Acme Corporation</option>
                <option value="techstart">TechStart Inc</option>
                <option value="global">Global Systems</option>
              </select>
            </div>
            <div>
              <label class="form-label">Due Date</label>
              <select class="form-select" style="width: 150px;">
                <option value="all">All</option>
                <option value="overdue">Overdue</option>
                <option value="today">Due Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Overdue Tasks -->
        <div class="task-group">
          <div class="task-group__header">
            <span class="priority-indicator priority-indicator--urgent"></span>
            <h2 class="task-group__title text-error">Overdue</h2>
            <span class="task-group__count">2</span>
          </div>

          <div class="task-card task-card--overdue" onclick="openTaskDetail(1)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">QBR with TechStart Inc</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  <span class="text-error">Overdue by 2 days</span>
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  TechStart Inc
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--urgent"></span>
                  Urgent
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card task-card--overdue" onclick="openTaskDetail(2)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Renewal prep meeting - Acme Corporation</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  <span class="text-error">Overdue by 1 day</span>
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Acme Corporation
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--high"></span>
                  High
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>
        </div>

        <!-- Due Today -->
        <div class="task-group">
          <div class="task-group__header">
            <span class="priority-indicator priority-indicator--medium"></span>
            <h2 class="task-group__title text-warning">Due Today</h2>
            <span class="task-group__count">2</span>
          </div>

          <div class="task-card task-card--due-today" onclick="openTaskDetail(3)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Follow up call with Apex Ltd</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Due today at 3:00 PM
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Apex Ltd
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--medium"></span>
                  Medium
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card task-card--due-today" onclick="openTaskDetail(4)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Review partner status report - Global Systems</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Due today at 5:00 PM
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Global Systems
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--low"></span>
                  Low
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>
        </div>

        <!-- This Week -->
        <div class="task-group">
          <div class="task-group__header">
            <h2 class="task-group__title">This Week</h2>
            <span class="task-group__count">5</span>
          </div>

          <div class="task-card" onclick="openTaskDetail(5)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Renewal prep for Acme Corporation</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 11, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Acme Corporation
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--high"></span>
                  High
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(6)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Send QBR agenda to Acme Corporation</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 12, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Acme Corporation
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--medium"></span>
                  Medium
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(7)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Check-in call with DataFlow Analytics</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 13, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  DataFlow Analytics
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--medium"></span>
                  Medium
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(8)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Escalation review meeting - Nexus Corp</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 14, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Nexus Corp
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--urgent"></span>
                  Urgent
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(9)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Prepare monthly executive report</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 15, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M10 18H6v8h4v-8zm12-8h-4v16h4V10zm-6 6h-4v10h4V16z"/></svg>
                  Internal
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--medium"></span>
                  Medium
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>
        </div>

        <!-- Later -->
        <div class="task-group">
          <div class="task-group__header">
            <h2 class="task-group__title">Later</h2>
            <span class="task-group__count">3</span>
          </div>

          <div class="task-card" onclick="openTaskDetail(10)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Executive Dashboard setup - Acme Corporation</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 20, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Acme Corporation
                </span>
                <span class="task-card__meta-item">
                  <span class="tag tag--blue" style="font-size: 10px;">Partner: Cprime</span>
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(11)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">Renewal discussion - TechStart Inc</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Jan 28, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  TechStart Inc
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--high"></span>
                  High
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>

          <div class="task-card" onclick="openTaskDetail(12)">
            <div class="task-card__checkbox" onclick="event.stopPropagation(); toggleTask(this)"></div>
            <div class="task-card__content">
              <div class="task-card__title">QBR preparation - Global Systems</div>
              <div class="task-card__meta">
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"/><path d="M17 15V8h-2v9h7v-2h-5z"/></svg>
                  Feb 5, 2026
                </span>
                <span class="task-card__meta-item">
                  <svg width="12" height="12" viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
                  Global Systems
                </span>
                <span class="task-card__meta-item">
                  <span class="priority-indicator priority-indicator--medium"></span>
                  Medium
                </span>
              </div>
            </div>
            <button class="btn btn--ghost btn--icon" onclick="event.stopPropagation();">
              <svg width="16" height="16" viewBox="0 0 32 32"><path d="M8 16a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0zm10 0a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav">
      <ul class="bottom-nav__items">
        <li>
          <a href="index.html" class="bottom-nav__link">
            <svg viewBox="0 0 32 32"><path d="M16 2L2 12v18h10V18h8v12h10V12L16 2z"/></svg>
            Home
          </a>
        </li>
        <li>
          <a href="customers.html" class="bottom-nav__link">
            <svg viewBox="0 0 32 32"><path d="M28 10h-6V6c0-1.1-.9-2-2-2h-8c-1.1 0-2 .9-2 2v4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V12c0-1.1-.9-2-2-2z"/></svg>
            Customers
          </a>
        </li>
        <li>
          <a href="#" class="bottom-nav__link">
            <svg viewBox="0 0 32 32"><path d="M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z"/></svg>
            Add
          </a>
        </li>
        <li>
          <a href="tasks.html" class="bottom-nav__link active">
            <svg viewBox="0 0 32 32"><path d="M14 21.5l-5-4.96L7.59 18 14 24.35 25.41 13 24 11.59 14 21.5z"/></svg>
            Tasks
          </a>
        </li>
        <li>
          <a href="#" class="bottom-nav__link">
            <svg viewBox="0 0 32 32"><path d="M4 6h24v2H4zm0 9h24v2H4zm0 9h24v2H4z"/></svg>
            More
          </a>
        </li>
      </ul>
    </nav>

    <!-- FAB for mobile -->
    <button class="fab" onclick="openNewTaskModal()">
      <svg width="24" height="24" viewBox="0 0 32 32" fill="white"><path d="M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z"/></svg>
    </button>
  </div>

  <!-- New Task Modal -->
  <div class="modal-overlay" id="newTaskModal">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title">New Task</h2>
        <button class="modal__close" onclick="closeNewTaskModal()">
          <svg width="20" height="20" viewBox="0 0 32 32"><path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"/></svg>
        </button>
      </div>
      <div class="modal__body">
        <div class="form-group">
          <label class="form-label">Task Title *</label>
          <input type="text" class="form-input" placeholder="Enter task title">
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-input" rows="3" placeholder="Enter task description" style="resize: vertical;"></textarea>
        </div>
        <div class="grid grid--2" style="gap: 16px;">
          <div class="form-group">
            <label class="form-label">Customer</label>
            <select class="form-select">
              <option value="">Select customer...</option>
              <option value="acme">Acme Corporation</option>
              <option value="techstart">TechStart Inc</option>
              <option value="global">Global Systems</option>
              <option value="nexus">Nexus Corp</option>
              <option value="dataflow">DataFlow Analytics</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Assignee</label>
            <select class="form-select">
              <option value="sarah" selected>Sarah Johnson (Me)</option>
              <option value="mike">Mike Peters</option>
              <option value="lisa">Lisa Chen</option>
            </select>
          </div>
        </div>
        <div class="grid grid--2" style="gap: 16px;">
          <div class="form-group">
            <label class="form-label">Due Date *</label>
            <input type="date" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label">Priority</label>
            <select class="form-select">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
              <option value="urgent">Urgent</option>
            </select>
          </div>
        </div>
      </div>
      <div class="modal__footer">
        <button class="btn btn--secondary" onclick="closeNewTaskModal()">Cancel</button>
        <button class="btn btn--primary">Create Task</button>
      </div>
    </div>
  </div>

  <script src="js/auth.js?v=5"></script>
  <script src="js/api.js?v=10"></script>
  <script>
    // Check auth on page load
    document.addEventListener('DOMContentLoaded', async function() {
      if (await Auth.checkAuthAndRedirect()) {
        Auth.updateUserDisplay();
      }
    });

    function toggleNav() {
      document.getElementById('sideNav').classList.toggle('open');
    }

    // Nav collapse functionality
    document.addEventListener('DOMContentLoaded', function() {
      const sideNav = document.getElementById('sideNav');
      const toggleBtn = document.getElementById('navToggleBtn');

      if (localStorage.getItem('navCollapsed') === 'true') {
        sideNav.classList.add('collapsed');
      }

      if (toggleBtn) {
        toggleBtn.addEventListener('click', function() {
          sideNav.classList.toggle('collapsed');
          localStorage.setItem('navCollapsed', sideNav.classList.contains('collapsed'));
        });
      }
    });

    function toggleTask(checkbox) {
      checkbox.classList.toggle('completed');
      if (checkbox.classList.contains('completed')) {
        checkbox.innerHTML = '<svg width="14" height="14" viewBox="0 0 32 32" fill="currentColor"><path d="M13 24l-9-9 1.41-1.41L13 21.17 26.59 7.58 28 9 13 24z"/></svg>';
      } else {
        checkbox.innerHTML = '';
      }
    }

    function openTaskDetail(id) {
      alert('Task detail modal would open for task #' + id);
    }

    function openNewTaskModal() {
      document.getElementById('newTaskModal').classList.add('active');
    }

    function closeNewTaskModal() {
      document.getElementById('newTaskModal').classList.remove('active');
    }

    // Close modal on overlay click
    document.getElementById('newTaskModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeNewTaskModal();
      }
    });
  </script>
</body>
</html>
